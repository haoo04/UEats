(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["shopTable"],{"05e0":function(e,t,a){"use strict";var n=a("672d"),r=a.n(n);r.a},"149e":function(e,t,a){},"161a":function(e,t,a){"use strict";var n=a("6dea"),r=a.n(n);r.a},"19e6":function(e,t,a){e.exports=a.p+"img/noImg.89ccbe0c.png"},"1a58":function(e,t,a){"use strict";var n=a("e24e"),r=a.n(n);r.a},"20d6":function(e,t,a){"use strict";var n=a("5ca1"),r=a("0a49")(6),s="findIndex",i=!0;s in[]&&Array(1)[s]((function(){i=!1})),n(n.P+n.F*i,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(s)},2150:function(e,t,a){},2235:function(e,t,a){e.exports=a.p+"img/search_table_empty.e769fc3e.png"},"23ba":function(e,t,a){"use strict";var n=a("7cc9"),r=a.n(n);r.a},"23bc":function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"28a5":function(e,t,a){"use strict";var n=a("aae3"),r=a("cb7c"),s=a("ebd6"),i=a("0390"),o=a("9def"),c=a("5f1b"),l=a("520a"),u=a("79e5"),d=Math.min,p=[].push,h="split",m="length",f="lastIndex",b=4294967295,_=!u((function(){RegExp(b,"y")}));a("214f")("split",2,(function(e,t,a,u){var v;return v="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[m]||2!="ab"[h](/(?:ab)*/)[m]||4!="."[h](/(.?)(.?)/)[m]||"."[h](/()()/)[m]>1||""[h](/.?/)[m]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!n(e))return a.call(r,e,t);var s,i,o,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?b:t>>>0,_=new RegExp(e.source,u+"g");while(s=l.call(_,r)){if(i=_[f],i>d&&(c.push(r.slice(d,s.index)),s[m]>1&&s.index<r[m]&&p.apply(c,s.slice(1)),o=s[0][m],d=i,c[m]>=h))break;_[f]===s.index&&_[f]++}return d===r[m]?!o&&_.test("")||c.push(""):c.push(r.slice(d)),c[m]>h?c.slice(0,h):c}:"0"[h](void 0,0)[m]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,n){var r=e(this),s=void 0==a?void 0:a[t];return void 0!==s?s.call(a,r,n):v.call(String(r),a,n)},function(e,t){var n=u(v,e,this,t,v!==a);if(n.done)return n.value;var l=r(e),p=String(this),h=s(l,RegExp),m=l.unicode,f=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(_?"y":"g"),g=new h(_?l:"^(?:"+l.source+")",f),y=void 0===t?b:t>>>0;if(0===y)return[];if(0===p.length)return null===c(g,p)?[p]:[];var O=0,k=0,C=[];while(k<p.length){g.lastIndex=_?k:0;var j,D=c(g,_?p:p.slice(k));if(null===D||(j=d(o(g.lastIndex+(_?0:k)),p.length))===O)k=i(p,k,m);else{if(C.push(p.slice(O,k)),C.length===y)return C;for(var S=1;S<=D.length-1;S++)if(C.push(D[S]),C.length===y)return C;k=O=j}}return C.push(p.slice(O)),C}]}))},"2acb":function(e,t,a){"use strict";var n=a("fdd5"),r=a.n(n);r.a},"2e08":function(e,t,a){var n=a("9def"),r=a("9744"),s=a("be13");e.exports=function(e,t,a,i){var o=String(s(e)),c=o.length,l=void 0===a?" ":String(a),u=n(t);if(u<=c||""==l)return o;var d=u-c,p=r.call(l,Math.ceil(d/l.length));return p.length>d&&(p=p.slice(0,d)),i?p+o:o+p}},"2f21":function(e,t,a){"use strict";var n=a("79e5");e.exports=function(e,t){return!!e&&n((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},3040:function(e,t,a){"use strict";var n=a("f791"),r=a.n(n);r.a},3402:function(e,t,a){"use strict";var n=a("23bc"),r=a.n(n);r.a},3502:function(e,t,a){"use strict";var n=a("f145"),r=a.n(n);r.a},"38b8":function(e,t,a){"use strict";a.d(t,"g",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"h",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"i",(function(){return h})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return f}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),r=a("b32d");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o=function(e){return Object(r["a"])({url:"/dish/page",method:"get",params:e})},c=function(e){return Object(r["a"])({url:"/dish",method:"delete",params:{ids:e}})},l=function(e){return Object(r["a"])({url:"/dish",method:"put",data:i({},e)})},u=function(e){return Object(r["a"])({url:"/dish",method:"post",data:i({},e)})},d=function(e){return Object(r["a"])({url:"/dish/".concat(e),method:"get"})},p=function(e){return Object(r["a"])({url:"/category/list",method:"get",params:e})},h=function(e){return Object(r["a"])({url:"/dish/list",method:"get",params:e})},m=function(e){return Object(r["a"])({url:"/dish/status/".concat(e.status),method:"post",params:{id:e.id}})},f=function(e){return Object(r["a"])({url:"/category/list",method:"get",params:i({},e)})}},"38b8f":function(e,t,a){e.exports=a.p+"img/table_empty.885371bc.png"},3921:function(e,t,a){"use strict";var n=a("f862"),r=a.n(n);r.a},"3b2b":function(e,t,a){var n=a("7726"),r=a("5dbc"),s=a("86cc").f,i=a("9093").f,o=a("aae3"),c=a("0bfb"),l=n.RegExp,u=l,d=l.prototype,p=/a/g,h=/a/g,m=new l(p)!==p;if(a("9e1e")&&(!m||a("79e5")((function(){return h[a("2b4c")("match")]=!1,l(p)!=p||l(h)==h||"/a/i"!=l(p,"i")})))){l=function(e,t){var a=this instanceof l,n=o(e),s=void 0===t;return!a&&n&&e.constructor===l&&s?e:r(m?new u(n&&!s?e.source:e,t):u((n=e instanceof l)?e.source:e,n&&s?c.call(e):t),a?this:d,l)};for(var f=function(e){e in l||s(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},b=i(u),_=0;b.length>_;)f(b[_++]);d.constructor=l,l.prototype=d,a("2aba")(n,"RegExp",l)}a("7a56")("RegExp")},4623:function(e,t,a){"use strict";var n=a("f6b6"),r=a.n(n);r.a},"477d":function(e,t,a){"use strict";var n=a("7f5c"),r=a.n(n);r.a},"47cd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-container"},[n("div",{staticClass:"container"},[n("div",{staticClass:"tableBar"},[n("label",{staticStyle:{"margin-right":"10px"}},[e._v("Setmeal name:")]),n("el-input",{staticStyle:{width:"14%"},attrs:{placeholder:"Please enter the setmeal name",clearable:""},on:{clear:e.init},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initFun(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),n("label",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[e._v("Setmeal category:")]),n("el-select",{staticStyle:{width:"14%"},attrs:{placeholder:"Please select",clearable:""},on:{clear:e.init},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}},e._l(e.dishCategoryList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("label",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[e._v("Sale status:")]),n("el-select",{staticStyle:{width:"14%"},attrs:{placeholder:"Please select",clearable:""},on:{clear:e.init},model:{value:e.dishStatus,callback:function(t){e.dishStatus=t},expression:"dishStatus"}},e._l(e.saleStatus,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-button",{staticClass:"normal-btn continue",on:{click:function(t){return e.init(!0)}}},[e._v("\n        Search\n      ")]),n("div",{staticClass:"tableLab"},[n("span",{staticClass:"delBut non",on:{click:function(t){return e.deleteHandle("批量")}}},[e._v("Batch delete")]),n("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:function(t){return e.addSetMeal("add")}}},[e._v("\n          + New setmeal\n        ")])],1)],1),e.tableData.length?n("el-table",{staticClass:"tableBox",attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"25"}}),n("el-table-column",{attrs:{prop:"name",label:"Setmeal name"}}),n("el-table-column",{attrs:{prop:"image",label:"Image"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[n("el-image",{staticStyle:{width:"80px",height:"40px",border:"none",cursor:"pointer"},attrs:{src:t.image}},[n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("img",{staticStyle:{width:"auto",height:"40px",border:"none"},attrs:{src:a("19e6")}})])])]}}],null,!1,3986313203)}),n("el-table-column",{attrs:{prop:"categoryName",label:"Setmeal category"}}),n("el-table-column",{attrs:{prop:"price",label:"Setmeal price"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v("￥"+e._s(100*t.row.price.toFixed(2)/100))])]}}],null,!1,233187056)}),n("el-table-column",{attrs:{label:"Sale status"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"tableColumn-status",class:{"stop-use":"0"===String(t.row.status)}},[e._v("\n            "+e._s("0"===String(t.row.status)?"Out of stock":"In stock")+"\n          ")])]}}],null,!1,3163354993)}),n("el-table-column",{attrs:{prop:"updateTime",label:"Last operation time"}}),n("el-table-column",{attrs:{label:"Operation",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"blueBug",attrs:{type:"text",size:"small"},on:{click:function(a){return e.addSetMeal(t.row)}}},[e._v("\n            Modify\n          ")]),n("el-button",{staticClass:"delBut",attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteHandle("单删",t.row.id)}}},[e._v("\n            Delete\n          ")]),n("el-button",{staticClass:"blueBug non",class:{blueBug:"0"==t.row.status,delBut:"0"!=t.row.status},attrs:{type:"text",size:"small"},on:{click:function(a){return e.statusHandle(t.row)}}},[e._v("\n            "+e._s("0"==t.row.status?"In stock":"Out of stock")+"\n          ")])]}}],null,!1,3245084812)})],1):n("Empty",{attrs:{"is-search":e.isSearch}}),e.counts>10?n("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.counts},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])},r=[],s=(a("ac6a"),a("7f7f"),a("c5f6"),a("96cf"),a("3b8d")),i=a("d225"),o=a("b0b4"),c=a("308d"),l=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),h=a("d666"),m=a("b8ec"),f=a("4be2"),b=a("fab1"),_=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.input="",e.counts=0,e.page=1,e.pageSize=10,e.checkList=[],e.tableData=[],e.dishCategoryList=[],e.categoryId="",e.dishStatus="",e.isSearch=!1,e.saleStatus=[{value:0,label:"Out of stock"},{value:1,label:"In stock"}],e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.init(),this.getDishCategoryList()}},{key:"initProp",value:function(e){this.input=e,this.initFun()}},{key:"initFun",value:function(){this.page=1,this.init()}},{key:"init",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSearch=t,e.next=3,Object(m["e"])({page:this.page,pageSize:this.pageSize,name:this.input||void 0,categoryId:this.categoryId||void 0,status:this.dishStatus}).then((function(e){e&&e.data&&1===e.data.code?(a.tableData=e.data.data.records,a.counts=Number(e.data.data.total)):a.$message.error(e.data.msg)})).catch((function(e){a.$message.error("Request failed："+e.message)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addSetMeal",value:function(e){"add"===e?this.$router.push({path:"/setmeal/add"}):this.$router.push({path:"/setmeal/add",query:{id:e.id}})}},{key:"deleteHandle",value:function(e,t){var a=this;if("batch"===e&&null===t&&0===this.checkList.length)return this.$message.error("Please select the object to delete");this.$confirm("Are you sure you want to delete this setmeal?","Delete",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then((function(){Object(m["b"])("batch"===e?a.checkList.join(","):t).then((function(e){1===e.data.code?(a.$message.success("The setmeal was deleted successfully!"),a.init()):a.$message.error(e.data.msg)})).catch((function(e){a.$message.error("Request failed："+e.message)}))}))}},{key:"statusHandle",value:function(e){var t=this,a={};if("string"===typeof e){if(0==this.checkList.length)return this.$message.error("Batch operation, please select the operation dishes first!"),!1;a.ids=this.checkList.join(","),a.status=e}else a.ids=e.id,a.status=e.status?"0":"1";this.$confirm("Are you sure you want to change the setmeal status?","Change",{confirmButtonText:"Change",cancelButtonText:"Cancel",type:"warning"}).then((function(){Object(m["g"])(a).then((function(e){1===e.data.code?(t.$message.success("The setmeal status has been changed successfully!"),t.init()):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error("Request failed："+e.message)}))}))}},{key:"getDishCategoryList",value:function(){var e=this;Object(m["c"])({type:2}).then((function(t){t&&t.data&&1===t.data.code&&(e.dishCategoryList=(t.data&&t.data.data&&t.data.data).map((function(e){return{value:e.id,label:e.name}})))})).catch((function(){}))}},{key:"handleSelectionChange",value:function(e){var t=[];e.forEach((function(e){t.push(e.id)})),this.checkList=t}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.init()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.init()}}]),t}(p["c"]);_=Object(d["a"])([Object(p["a"])({name:"package",components:{HeadLable:h["a"],InputAutoComplete:f["a"],Empty:b["a"]}})],_);var v=_,g=v,y=(a("9de0"),a("23ba"),a("2877")),O=Object(y["a"])(g,n,r,!1,null,"54270c40",null);t["default"]=O.exports},"4b52":function(e,t,a){},"4bca":function(e,t,a){"use strict";var n=a("e967"),r=a.n(n);r.a},"4be2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"input-auto-complete"},[a("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:e.placeholder,clearable:""},on:{clear:e.init},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.init(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[a("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{cursor:"pointer"},attrs:{slot:"prefix"},on:{click:e.init},slot:"prefix"})])],1)},r=[],s=a("d225"),i=a("b0b4"),o=a("308d"),c=a("6bb5"),l=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.input="",e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"init",value:function(){this.$emit("init",this.input)}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:[]})],p.prototype,"data",void 0),Object(u["a"])([Object(d["b"])({default:""})],p.prototype,"placeholder",void 0),Object(u["a"])([Object(d["b"])({default:"name"})],p.prototype,"ObKey",void 0),p=Object(u["a"])([Object(d["a"])({name:"InputAutoComplete"})],p);var h=p,m=h,f=(a("05e0"),a("2877")),b=Object(f["a"])(m,n,r,!1,null,"41cb16b0",null);t["a"]=b.exports},"4f7f":function(e,t,a){"use strict";var n=a("c26b"),r=a("b39a"),s="Set";e.exports=a("e0b8")(s,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(r(this,s),e=0===e?0:e,e)}},n)},"508c":function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"51ee":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8e6e"),core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_1__),D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bd86"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_5__),D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("3b8d"),D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("d225"),D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("b0b4"),D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("308d"),D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("6bb5"),D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("4e2b"),tslib__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("9ab4"),vue_property_decorator__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("60a3"),_components_Empty_index_vue__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("fab1"),_store_modules_app__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("ac1a"),_api_inform__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("f43d");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var default_1=function(_Vue){function default_1(){var e;return Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_7__["a"])(this,default_1),e=Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9__["a"])(this,Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__["a"])(default_1).apply(this,arguments)),e.activeIndex=0,e.shopShow=!1,e.counts=0,e.page=1,e.pageSize=10,e.status=1,e.baseData=[],e.showIndex=0,e.isSearch=!1,e.isActive=!1,e}return Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_11__["a"])(default_1,_Vue),Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_8__["a"])(default_1,[{key:"created",value:function(){this.getData()}},{key:"getData",value:function(){var _getData=Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__["a"])(regeneratorRuntime.mark((function _callee(){var parent,_ref,data,objNew,arrDetails;return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return parent={pageNum:this.page,pageSize:this.pageSize,status:this.status},_context.next=3,Object(_api_inform__WEBPACK_IMPORTED_MODULE_16__["c"])(parent);case 3:_ref=_context.sent,data=_ref.data,1===data.code?(this.baseData=data.data.records,this.counts=data.data.total,objNew={},arrDetails=[],this.baseData.forEach((function(val){var arrContent=val.content.split(" ");val.arrNew=arrContent,objNew=_objectSpread({},val),objNew.details=eval("("+objNew.details+")"),arrDetails.push(objNew)})),this.baseData=arrDetails):this.$message.error(data.msg);case 6:case"end":return _context.stop()}}),_callee,this)})));function getData(){return _getData.apply(this,arguments)}return getData}()},{key:"handleBatch",value:function(){var e=Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=[],this.baseData.forEach((function(e){t.push(e.id)})),e.next=4,Object(_api_inform__WEBPACK_IMPORTED_MODULE_16__["a"])(t);case 4:a=e.sent,n=a.data,1===n.code?(this.getCountUnread(),this.getData()):this.$message.error(n.msg);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleSetStatus",value:function(){var e=Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_api_inform__WEBPACK_IMPORTED_MODULE_16__["d"])(t);case 2:a=e.sent,n=a.data,1===n.code?this.isActive||(this.getCountUnread(),this.getData()):this.$message.error(n.msg);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCountUnread",value:function(){var e=Object(D_JetBrains_WorkSpace_Ueats_Practical_sky_take_out_project_UEats_admin_vue_ts_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_6__["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_api_inform__WEBPACK_IMPORTED_MODULE_16__["b"])();case 2:t=e.sent,a=t.data,1===a.code?_store_modules_app__WEBPACK_IMPORTED_MODULE_15__["a"].StatusNumber(a.data):this.$message.error(a.msg);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleClass",value:function(e){this.activeIndex=e,this.status=0===e?1:2,this.getData()}},{key:"toggleShow",value:function(e,t){var a=this;this.shopShow=!0,this.showIndex=t;var n=3,r=setInterval((function(){n--,0===n&&(1===a.status&&(a.isActive=!0,a.handleSetStatus(e)),clearInterval(r))}),1e3)}},{key:"mouseLeaves",value:function(e){this.shopShow=!1,this.showIndex=e}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.getData()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.getData()}},{key:"tabList",get:function(){return[{label:"Unread",value:1},{label:"Read",value:2}]}},{key:"ountUnread",get:function(){return _store_modules_app__WEBPACK_IMPORTED_MODULE_15__["a"].statusNumber}}]),default_1}(vue_property_decorator__WEBPACK_IMPORTED_MODULE_13__["c"]);default_1=Object(tslib__WEBPACK_IMPORTED_MODULE_12__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_13__["a"])({name:"Inform",components:{Empty:_components_Empty_index_vue__WEBPACK_IMPORTED_MODULE_14__["a"]}})],default_1),__webpack_exports__["a"]=default_1},5303:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"tableBar"},[a("label",{staticStyle:{"margin-right":"5px"}},[e._v("Employee Name:")]),a("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"Please enter employee name",clearable:""},on:{clear:e.init},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initFun(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("el-button",{staticClass:"normal-btn continue",on:{click:function(t){return e.init(!0)}}},[e._v("Search")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:function(t){return e.addEmployeeHandle("add")}}},[e._v("\n        + Add Employee\n      ")])],1),e.tableData.length?a("el-table",{staticClass:"tableBox",attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"Employee Name"}}),a("el-table-column",{attrs:{prop:"username",label:"Account"}}),a("el-table-column",{attrs:{prop:"phone",label:"Phone"}}),a("el-table-column",{attrs:{label:"Account Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"tableColumn-status",class:{"stop-use":"0"===String(t.row.status)}},[e._v("\n            "+e._s("0"===String(t.row.status)?"Disabled":"Enabled")+"\n          ")])]}}],null,!1,3151598052)}),a("el-table-column",{attrs:{prop:"updateTime",label:"Last Operation Time"}}),a("el-table-column",{attrs:{label:"Actions",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"blueBug",class:{"disabled-text":"admin"===t.row.username},attrs:{type:"text",size:"small",disabled:"admin"===t.row.username},on:{click:function(a){return e.addEmployeeHandle(t.row.id,t.row.username)}}},[e._v("\n            Edit\n          ")]),a("el-button",{staticClass:"non",class:{"disabled-text":"admin"===t.row.username,blueBug:"0"==t.row.status,delBut:"0"!=t.row.status},attrs:{disabled:"admin"===t.row.username,type:"text",size:"small"},on:{click:function(a){return e.statusHandle(t.row)}}},[e._v("\n            "+e._s("1"==t.row.status?"Disable":"Enable")+"\n          ")])]}}],null,!1,3135291907)})],1):a("Empty",{attrs:{"is-search":e.isSearch}}),a("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.counts},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},r=[],s=(a("96cf"),a("3b8d")),i=a("d225"),o=a("b0b4"),c=a("308d"),l=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),h=a("d666"),m=a("63f6"),f=a("9dba"),b=a("4be2"),_=a("fab1"),v=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.input="",e.counts=0,e.page=1,e.pageSize=10,e.tableData=[],e.id="",e.status="",e.isSearch=!1,e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.init()}},{key:"initProp",value:function(e){this.input=e,this.initFun()}},{key:"initFun",value:function(){this.page=1,this.init()}},{key:"init",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSearch=t,a={page:this.page,pageSize:this.pageSize,name:this.input?this.input:void 0},e.next=4,Object(m["d"])(a).then((function(e){"1"===String(e.data.code)&&(n.tableData=e.data&&e.data.data&&e.data.data.records,n.counts=e.data.data.total)})).catch((function(e){n.$message.error("Request failed: "+e.message)}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addEmployeeHandle",value:function(e,t){if("add"===e)this.$router.push({path:"/employee/add"});else{if("admin"===t)return;this.$router.push({path:"/employee/add",query:{id:e}})}}},{key:"statusHandle",value:function(e){var t=this;"admin"!==e.username&&(this.id=e.id,this.status=e.status,this.$confirm("Are you sure you want to change the status of this account?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){Object(m["c"])({id:t.id,status:t.status?0:1}).then((function(e){"200"===String(e.status)&&(t.$message.success("Account status changed successfully!"),t.init())})).catch((function(e){t.$message.error("Request failed: "+e.message)}))})))}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.init()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.init()}},{key:"userName",get:function(){return f["a"].username}}]),t}(p["c"]);v=Object(d["a"])([Object(p["a"])({name:"Employee",components:{HeadLable:h["a"],InputAutoComplete:b["a"],Empty:_["a"]}})],v);var g=v,y=g,O=(a("b911"),a("2877")),k=Object(O["a"])(y,n,r,!1,null,"65744c60",null);t["default"]=k.exports},"55dd":function(e,t,a){"use strict";var n=a("5ca1"),r=a("d8e8"),s=a("4bf8"),i=a("79e5"),o=[].sort,c=[1,2,3];n(n.P+n.F*(i((function(){c.sort(void 0)}))||!i((function(){c.sort(null)}))||!a("2f21")(o)),"Array",{sort:function(e){return void 0===e?o.call(s(this)):o.call(s(this),r(e))}})},"560a":function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"g",(function(){return h})),a.d(t,"d",(function(){return m}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),r=a("b32d");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o=function(e){return Object(r["a"])({url:"/order/conditionSearch",method:"get",params:e})},c=function(e){return Object(r["a"])({url:"/order/details/".concat(e.orderId),method:"get"})},l=function(e){return Object(r["a"])({url:"/order/delivery/".concat(e.id),method:"put"})},u=function(e){return Object(r["a"])({url:"/order/complete/".concat(e.id),method:"put"})},d=function(e){return Object(r["a"])({url:"/order/cancel",method:"put",data:i({},e)})},p=function(e){return Object(r["a"])({url:"/order/confirm",method:"put",data:i({},e)})},h=function(e){return Object(r["a"])({url:"/order/rejection",method:"put",data:i({},e)})},m=function(e){return Object(r["a"])({url:"/order/statistics",method:"get"})}},5852:function(e,t,a){"use strict";var n=a("508c"),r=a.n(n);r.a},"5aa9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-item"},[a("el-upload",{ref:"uploadfiles",staticClass:"avatar-uploader",class:{borderNone:e.imageUrl},attrs:{accept:e.type,action:"/api/common/upload","show-file-list":!1,"on-success":e.handleAvatarSuccess,"on-remove":e.handleRemove,"on-error":e.handleError,"before-upload":e.beforeAvatarUpload,headers:e.headers}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e.imageUrl?a("span",{staticClass:"el-upload-list__item-actions"},[a("span",{staticClass:"el-upload-span",on:{click:function(t){return t.stopPropagation(),e.oploadImgDel(t)}}},[e._v("\n        Delete Image\n      ")]),a("span",{staticClass:"el-upload-span"},[e._v(" Reupload ")])]):e._e()]),a("p",{staticClass:"upload-tips"},[e._t("default")],2)],1)},r=[],s=a("d225"),i=a("b0b4"),o=a("308d"),c=a("6bb5"),l=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=a("5581"),h=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments)),e.headers={token:Object(p["b"])()},e.imageUrl="",e}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"handleRemove",value:function(){}},{key:"onChange",value:function(e){this.imageUrl=e}},{key:"handleError",value:function(e,t,a){console.log(e,t,a,"handleError"),this.$message({message:"Image upload failed",type:"error"})}},{key:"handleAvatarSuccess",value:function(e,t,a){this.imageUrl="".concat(e.data),this.$emit("imageChange",this.imageUrl)}},{key:"oploadImgDel",value:function(){this.imageUrl="",this.$emit("imageChange",this.imageUrl)}},{key:"beforeAvatarUpload",value:function(e){var t=e.size/1024/1024<this.size;if(!t)return this.$message({message:"The file size cannot exceed ".concat(this.size,"M!"),type:"error"}),!1}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:".jpg,.jpeg,.png"})],h.prototype,"type",void 0),Object(u["a"])([Object(d["b"])({default:2})],h.prototype,"size",void 0),Object(u["a"])([Object(d["b"])({default:""})],h.prototype,"propImageUrl",void 0),Object(u["a"])([Object(d["d"])("propImageUrl")],h.prototype,"onChange",null),h=Object(u["a"])([Object(d["a"])({name:"UploadImage"})],h);var m=h,f=m,b=(a("5852"),a("d14b"),a("2877")),_=Object(b["a"])(f,n,r,!1,null,"60999173",null);t["a"]=_.exports},"5dbc":function(e,t,a){var n=a("d3f4"),r=a("8b97").set;e.exports=function(e,t,a){var s,i=t.constructor;return i!==a&&"function"==typeof i&&(s=i.prototype)!==a.prototype&&n(s)&&r&&r(e,s),e}},"5df3":function(e,t,a){"use strict";var n=a("02f4")(!0);a("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,a=this._i;return a>=t.length?{value:void 0,done:!0}:(e=n(t,a),this._i+=e.length,{value:e,done:!1})}))},6182:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"addBrand-container"},[a("div",{staticClass:"container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,inline:!0,"label-width":"180px"}},[a("div",[a("el-form-item",{attrs:{label:"Setmeal name:",prop:"name"}},[a("el-input",{attrs:{placeholder:"Please enter the setmeal name",maxlength:"14"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"Setmeal category:",prop:"idType"}},[a("el-select",{attrs:{placeholder:"Please select the setmeal category"},on:{change:function(t){return e.$forceUpdate()}},model:{value:e.ruleForm.idType,callback:function(t){e.$set(e.ruleForm,"idType",t)},expression:"ruleForm.idType"}},e._l(e.setMealList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("div",[a("el-form-item",{attrs:{label:"Setmeal price:",prop:"price"}},[a("el-input",{attrs:{placeholder:"Please set the setmeal price"},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),a("div",[a("el-form-item",{attrs:{label:"Setmeal dishes:",required:""}},[a("el-form-item",[a("div",{staticClass:"addDish"},[0==e.dishTable.length?a("span",{staticClass:"addBut",on:{click:function(t){return e.openAddDish("new")}}},[e._v("\n                + Add dishes")]):e._e(),0!=e.dishTable.length?a("div",{staticClass:"content"},[a("div",{staticClass:"addBut",staticStyle:{"margin-bottom":"20px"},on:{click:function(t){return e.openAddDish("change")}}},[e._v("\n                  + Add dishes\n                ")]),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dishTable}},[a("el-table-column",{attrs:{prop:"name",label:"Name",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"price",label:"Original price",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(100*Number(t.row.price).toFixed(2)/100)+"\n                      ")]}}],null,!1,1338860262)}),a("el-table-column",{attrs:{prop:"address",label:"Number of servings",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input-number",{attrs:{size:"small",min:1,max:99,label:"Description"},model:{value:t.row.copies,callback:function(a){e.$set(t.row,"copies",a)},expression:"scope.row.copies"}})]}}],null,!1,1212654925)}),a("el-table-column",{attrs:{prop:"address",label:"Operation",width:"180px;",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"delBut non",attrs:{type:"text",size:"small"},on:{click:function(a){return e.delDishHandle(t.$index)}}},[e._v("\n                          Delete\n                        ")])]}}],null,!1,627875364)})],1)],1)]):e._e()])])],1)],1),a("div",[a("el-form-item",{attrs:{label:"Setmeal image:",required:"",prop:"image"}},[a("image-upload",{attrs:{"prop-image-url":e.imageUrl},on:{imageChange:e.imageChange}},[e._v("\n            Image size is less than 2M"),a("br"),e._v("Only PNG, JPEG, JPG type images can be uploaded"),a("br"),e._v("It is recommended to upload images of 200*200 or 300*300 size\n          ")])],1)],1),a("div",{staticClass:"address"},[a("el-form-item",{attrs:{label:"Setmeal description:"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:"200",placeholder:"Setmeal description, maximum 200 characters"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),a("div",{staticClass:"subBox address"},[a("el-form-item",[a("el-button",{on:{click:function(){return e.$router.back()}}},[e._v("\n            Cancel\n          ")]),a("el-button",{class:{continue:"add"===e.actionType},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm",!1)}}},[e._v("\n            Save\n          ")]),"add"==e.actionType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm",!0)}}},[e._v("\n            Save and continue adding\n          ")]):e._e()],1)],1)])],1),e.dialogVisible?a("el-dialog",{staticClass:"addDishList",attrs:{title:"Add dishes",visible:e.dialogVisible,width:"60%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-input",{staticClass:"seachDish",staticStyle:{width:"293px",height:"40px"},attrs:{placeholder:"Please enter the dish name to search",size:"small",clearable:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("i",{staticClass:"el-input__icon el-icon-search",staticStyle:{cursor:"pointer"},attrs:{slot:"prefix"},on:{click:e.seachHandle},slot:"prefix"})]),e.dialogVisible?a("AddDish",{ref:"adddish",attrs:{"check-list":e.checkList,"seach-key":e.seachKey,"dish-list":e.dishList},on:{checkList:e.getCheckList}}):e._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.handleClose}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addTableList}},[e._v("Add")])],1)],1):e._e()],1)},r=[],s=(a("8e6e"),a("456d"),a("c5f6"),a("7f7f"),a("ac6a"),a("75fc")),i=a("bd86"),o=(a("96cf"),a("3b8d")),c=a("d225"),l=a("b0b4"),u=a("308d"),d=a("6bb5"),p=a("4e2b"),h=a("9ab4"),m=a("60a3"),f=a("d666"),b=a("5aa9"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addDish"},[n("div",{staticClass:"leftCont"},[n("div",{directives:[{name:"show",rawName:"v-show",value:""==e.seachKey.trim(),expression:"seachKey.trim() == ''"}],staticClass:"tabBut"},e._l(e.dishType,(function(t,a){return n("span",{key:a,class:{act:a==e.keyInd},on:{click:function(n){return e.checkTypeHandle(a,t.id)}}},[e._v(e._s(t.name))])})),0),n("div",{staticClass:"tabList"},[n("div",{staticClass:"table",class:{borderNone:!e.dishList.length}},[0==e.dishList.length?n("div",{staticStyle:{"padding-left":"10px"}},[n("Empty")],1):e._e(),e.dishList.length>0?n("el-checkbox-group",{on:{change:e.checkedListHandle},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.dishList,(function(t,a){return n("div",{key:t.name+t.id,staticClass:"items"},[n("el-checkbox",{key:a,attrs:{label:t.name}},[n("div",{staticClass:"item"},[n("span",{staticStyle:{flex:"3","text-align":"left"}},[e._v(e._s(t.dishName))]),n("span",[e._v(e._s(0==t.status?"Out of stock":"In stock"))]),n("span",[e._v(e._s(100*Number(t.price).toFixed(2)/100))])])])],1)})),0):e._e()],1)])]),n("div",{staticClass:"ritCont"},[n("div",{staticClass:"tit"},[e._v("\n      Selected dishes("+e._s(e.checkedListAll.length)+")\n    ")]),n("div",{staticClass:"items"},e._l(e.checkedListAll,(function(t,r){return n("div",{key:r,staticClass:"item"},[n("span",[e._v(e._s(t.dishName||t.name))]),n("span",{staticClass:"price"},[e._v("RM "+e._s(100*Number(t.price).toFixed(2)/100)+" ")]),n("span",{staticClass:"del",on:{click:function(a){return e.delCheck(t.name)}}},[n("img",{attrs:{src:a("dc90"),alt:""}})])])})),0)])])},v=[],g=(a("20d6"),a("5df3"),a("4f7f"),a("38b8")),y=a("fab1"),O=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.dishType=[],e.dishList=[],e.allDishList=[],e.dishListCache=[],e.keyInd=0,e.searchValue="",e.checkedList=[],e.checkedListAll=[],e.ids=new Set,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){this.init()}},{key:"seachKeyChange",value:function(e){e.trim()&&this.getDishForName(this.seachKey)}},{key:"init",value:function(){this.getDishType(),this.checkedList=this.checkList.map((function(e){return e.name})),this.checkedListAll=this.checkList.reverse()}},{key:"getDishType",value:function(){var e=this;Object(g["f"])({type:1}).then((function(t){t&&t.data&&1===t.data.code?(e.dishType=t.data.data,e.getDishList(t.data.data[0].id)):e.$message.error(t.data.msg)}))}},{key:"getDishList",value:function(e){var t=this;Object(g["i"])({categoryId:e}).then((function(a){if(a&&a.data&&1===a.data.code){if(0==a.data.data.length)return void(t.dishList=[]);var n=a.data.data;n.forEach((function(e){e.dishId=e.id,e.copies=1,e.dishName=e.name})),t.dishList=n,t.ids.has(e)||(t.allDishList=[].concat(Object(s["a"])(t.allDishList),Object(s["a"])(n))),t.ids.add(e)}else t.$message.error(a.data.msg)}))}},{key:"getDishForName",value:function(e){var t=this;Object(g["i"])({name:e}).then((function(e){if(e&&e.data&&1===e.data.code){var a=e.data.data;a.forEach((function(e){e.dishId=e.id,e.dishName=e.name})),t.dishList=a}else t.$message.error(e.data.msg)}))}},{key:"checkTypeHandle",value:function(e,t){this.keyInd=e,this.getDishList(t)}},{key:"checkedListHandle",value:function(e){this.checkedListAll.reverse();var t=this.allDishList.filter((function(t){var a;return e.forEach((function(e){t.name==e&&(a=t)})),a})),a=[].concat(Object(s["a"])(this.checkedListAll),Object(s["a"])(t)),n=[];this.checkedListAll=a.filter((function(e){var t;if(0==n.length)n.push(e.name),t=e;else{var a=n.some((function(t){return e.name==t}));a||(n.push(e.name),t=e)}return t})),e.length<n.length&&(this.checkedListAll=this.checkedListAll.filter((function(t){if(e.some((function(e){return e==t.name})))return t}))),this.$emit("checkList",this.checkedListAll),this.checkedListAll.reverse()}},{key:"open",value:function(e){this.dishListCache=JSON.parse(JSON.stringify(this.checkList))}},{key:"close",value:function(e){this.checkList=this.dishListCache}},{key:"delCheck",value:function(e){var t=this.checkedList.findIndex((function(t){return t===e})),a=this.checkedListAll.findIndex((function(t){return t.name===e}));this.checkedList.splice(t,1),this.checkedListAll.splice(a,1),this.$emit("checkList",this.checkedListAll)}}]),t}(m["c"]);Object(h["a"])([Object(m["b"])({default:""})],O.prototype,"value",void 0),Object(h["a"])([Object(m["b"])({default:[]})],O.prototype,"checkList",void 0),Object(h["a"])([Object(m["b"])({default:""})],O.prototype,"seachKey",void 0),Object(h["a"])([Object(m["d"])("seachKey")],O.prototype,"seachKeyChange",null),O=Object(h["a"])([Object(m["a"])({name:"selectInput",components:{Empty:y["a"]}})],O);var k=O,C=k,j=(a("4bca"),a("b8bc"),a("2877")),D=Object(j["a"])(C,_,v,!1,null,"3fcaf8e3",null),S=D.exports,w=a("b8ec");function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.value="",e.setMealList=[],e.seachKey="",e.dishList=[],e.imageUrl="",e.actionType="",e.dishTable=[],e.dialogVisible=!1,e.checkList=[],e.ruleForm={name:"",categoryId:"",price:"",code:"",image:"",description:"",dishList:[],status:!0,idType:""},e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){this.getDishTypeList(),this.actionType=this.$route.query.id?"edit":"add","edit"==this.actionType&&this.init()}},{key:"init",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(w["f"])(this.$route.query.id).then((function(e){e&&e.data&&1===e.data.code?(t.ruleForm=e.data.data,t.ruleForm.status="1"==e.data.data.status,t.ruleForm.price=e.data.data.price,t.imageUrl=e.data.data.image,t.checkList=e.data.data.setmealDishes,t.dishTable=e.data.data.setmealDishes.reverse(),t.ruleForm.idType=e.data.data.categoryId):t.$message.error(e.data.msg)}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"seachHandle",value:function(){this.seachKey=this.value}},{key:"getDishTypeList",value:function(){var e=this;Object(g["f"])({type:2,page:1,pageSize:1e3}).then((function(t){t&&t.data&&1===t.data.code?e.setMealList=t.data.data.map((function(e){return E({},e,{idType:e.id})})):e.$message.error(t.data.msg)}))}},{key:"delDishHandle",value:function(e){this.dishTable.splice(e,1),this.checkList=this.dishTable}},{key:"getCheckList",value:function(e){this.checkList=Object(s["a"])(e).reverse()}},{key:"openAddDish",value:function(e){this.seachKey="",this.dialogVisible=!0}},{key:"handleClose",value:function(e){this.dialogVisible=!1,this.checkList=JSON.parse(JSON.stringify(this.dishTable))}},{key:"addTableList",value:function(){this.dishTable=JSON.parse(JSON.stringify(this.checkList)),this.dishTable.forEach((function(e){e.copies=1})),this.dialogVisible=!1}},{key:"submitForm",value:function(e,t){var a=this;this.$refs[e].validate((function(e){if(!e)return!1;if(0===a.dishTable.length)return a.$message.error("The dishes under the setmeal cannot be empty");if(!a.ruleForm.image)return a.$message.error("The setmeal image cannot be empty");var n=E({},a.ruleForm);n.setmealDishes=a.dishTable.map((function(e){return{copies:e.copies,dishId:e.dishId,name:e.name,price:e.price}})),n.status="add"===a.actionType?0:a.ruleForm.status?1:0,n.categoryId=a.ruleForm.idType,"add"==a.actionType?(delete n.id,Object(w["a"])(n).then((function(e){e&&e.data&&1===e.data.code?(a.$message.success("The setmeal was added successfully!"),t?(a.$refs.ruleForm.resetFields(),a.dishList=[],a.dishTable=[],a.ruleForm={name:"",categoryId:"",price:"",code:"",image:"",description:"",dishList:[],status:!0,id:"",idType:""},a.imageUrl=""):a.$router.push({path:"/setmeal"})):a.$message.error(e.data.msg)})).catch((function(e){a.$message.error("Request failed："+e.message)}))):(delete n.updateTime,Object(w["d"])(n).then((function(e){1===e.data.code&&(a.$message.success("The setmeal was modified successfully!"),a.$router.push({path:"/setmeal"}))})).catch((function(e){a.$message.error("Request failed："+e.message)})))}))}},{key:"imageChange",value:function(e){this.ruleForm.image=e}},{key:"rules",get:function(){return{name:{required:!0,validator:function(e,t,a){if(t){var n=/^([A-Za-z0-9\u4e00-\u9fa5]){2,20}$/;n.test(t)?a():a(new Error("The setmeal name does not match, please enter 2-20 characters"))}else a(new Error("Please enter the setmeal name"))},trigger:"blur"},idType:{required:!0,message:"Please select the setmeal category",trigger:"change"},image:{required:!0,message:"Dish image cannot be empty"},price:{required:!0,validator:function(e,t,a){var n=/^([1-9]\d{0,5}|0)(\.\d{1,2})?$/;!n.test(t)||Number(t)<=0?a(new Error("The setmeal price format is incorrect, please enter an amount greater than zero and up to two decimal places")):a()},trigger:"blur"},code:{required:!0,message:"Please enter the product code",trigger:"blur"}}}}]),t}(m["c"]);T=Object(h["a"])([Object(m["a"])({name:"addShop",components:{HeadLable:f["a"],AddDish:S,ImageUpload:b["a"]}})],T);var L=T,P=L,A=(a("161a"),a("3402"),a("3921"),Object(j["a"])(P,n,r,!1,null,"158182a8",null));t["default"]=A.exports},"672d":function(e,t,a){},"6c8b":function(e,t,a){"use strict";var n=a("97b6"),r=a.n(n);r.a},"6dea":function(e,t,a){},"79f6":function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"i",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"a",(function(){return p}));var n=a("b32d"),r=function(){return Object(n["a"])({url:"/workspace/overviewOrders",method:"get"})},s=function(){return Object(n["a"])({url:"/workspace/overviewDishes",method:"get"})},i=function(){return Object(n["a"])({url:"/workspace/overviewSetmeals",method:"get"})},o=function(){return Object(n["a"])({url:"/workspace/businessData",method:"get"})},c=function(e){return Object(n["a"])({url:"/report/turnoverStatistics",method:"get",params:e})},l=function(e){return Object(n["a"])({url:"/report/userStatistics",method:"get",params:e})},u=function(e){return Object(n["a"])({url:"/report/ordersStatistics",method:"get",params:e})},d=function(e){return Object(n["a"])({url:"/report/top10",method:"get",params:e})};function p(){return Object(n["a"])({url:"/report/export",method:"get",responseType:"blob"})}},"7cc9":function(e,t,a){},"7f5c":function(e,t,a){},"847b":function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"84a9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("TabChange",{attrs:{"order-statics":e.orderStatics,"default-activity":e.defaultActivity},on:{tabChange:e.change}}),a("div",{staticClass:"container",class:{hContainer:e.tableData.length}},[a("div",{staticClass:"tableBar"},[a("label",{staticStyle:{"margin-right":"10px"}},[e._v("Order Number：")]),a("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"Please enter order number",clearable:""},on:{clear:function(t){return e.init(e.orderStatus)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initFun(e.orderStatus)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),a("label",{staticStyle:{"margin-left":"20px"}},[e._v("Phone Number：")]),a("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"Please enter phone number",clearable:""},on:{clear:function(t){return e.init(e.orderStatus)}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initFun(e.orderStatus)}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("label",{staticStyle:{"margin-left":"20px"}},[e._v("Order Time：")]),a("el-date-picker",{staticStyle:{width:"25%","margin-left":"10px"},attrs:{clearable:"","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"To","default-time":["00:00:00","23:59:59"],type:"daterange","start-placeholder":"Start Date","end-placeholder":"End Date"},on:{clear:function(t){return e.init(e.orderStatus)}},model:{value:e.valueTime,callback:function(t){e.valueTime=t},expression:"valueTime"}}),a("el-button",{staticClass:"normal-btn continue",on:{click:function(t){return e.init(e.orderStatus,!0)}}},[e._v("\n        Search\n      ")])],1),e.tableData.length?a("el-table",{staticClass:"tableBox",attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{key:"number",attrs:{prop:"number",label:"Order Number"}}),[2,3,4].includes(e.orderStatus)?a("el-table-column",{key:"orderDishes",attrs:{prop:"orderDishes",label:"Order Dishes"}}):e._e(),[0].includes(e.orderStatus)?a("el-table-column",{key:"status",attrs:{prop:"Order Status",label:"Order Status"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e.getOrderType(n)))])]}}],null,!1,1146136203)}):e._e(),[0,5,6].includes(e.orderStatus)?a("el-table-column",{key:"consignee",attrs:{prop:"consignee",label:"User Name","show-overflow-tooltip":""}}):e._e(),[0,5,6].includes(e.orderStatus)?a("el-table-column",{key:"phone",attrs:{prop:"phone",label:"Phone Number"}}):e._e(),[0,2,3,4,5,6].includes(e.orderStatus)?a("el-table-column",{key:"address",attrs:{prop:"address",label:"Address","class-name":6===e.orderStatus?"address":""}}):e._e(),[0,6].includes(e.orderStatus)?a("el-table-column",{key:"orderTime",attrs:{prop:"orderTime",label:"Order Time","class-name":"orderTime","min-width":"110"}}):e._e(),[6].includes(e.orderStatus)?a("el-table-column",{key:"cancelTime",attrs:{prop:"cancelTime","class-name":"cancelTime",label:"Cancel Time","min-width":"110"}}):e._e(),[6].includes(e.orderStatus)?a("el-table-column",{key:"cancelReason",attrs:{prop:"cancelReason",label:"Cancel Reason","class-name":"cancelReason","min-width":[6].includes(e.orderStatus)?80:"auto"}}):e._e(),[5].includes(e.orderStatus)?a("el-table-column",{key:"deliveryTime",attrs:{prop:"deliveryTime",label:"Delivery Time"}}):e._e(),[2,3,4].includes(e.orderStatus)?a("el-table-column",{key:"estimatedDeliveryTime",attrs:{prop:"estimatedDeliveryTime",label:"Estimated Delivery Time","min-width":"110"}}):e._e(),[0,2,5].includes(e.orderStatus)?a("el-table-column",{key:"amount",attrs:{prop:"amount",label:"Actual Receipt Amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v("￥"+e._s(100*n.amount.toFixed(2)/100))])]}}],null,!1,1581866610)}):e._e(),[2,3,4,5].includes(e.orderStatus)?a("el-table-column",{key:"remark",attrs:{prop:"remark",label:"Remark",align:"center"}}):e._e(),[2,3,4].includes(e.orderStatus)?a("el-table-column",{key:"tablewareNumber",attrs:{prop:"tablewareNumber",label:"Tableware Number",align:"center","min-width":"80"}}):e._e(),a("el-table-column",{attrs:{prop:"btn",label:"Operation",align:"center","class-name":0===e.orderStatus?"operate":"otherOperate","min-width":[2,3,4].includes(e.orderStatus)?130:[0].includes(e.orderStatus)?140:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"before"},[2===n.status?a("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(t){e.orderAccept(n),e.isTableOperateBtn=!0}}},[e._v("\n              Accept Order\n            ")]):e._e(),3===n.status?a("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(t){return e.cancelOrDeliveryOrComplete(3,n.id)}}},[e._v("\n              Delivery\n            ")]):e._e(),4===n.status?a("el-button",{staticClass:"blueBug",attrs:{type:"text"},on:{click:function(t){return e.cancelOrDeliveryOrComplete(4,n.id)}}},[e._v("\n              Complete\n            ")]):e._e()],1),a("div",{staticClass:"middle"},[2===n.status?a("el-button",{staticClass:"delBut",attrs:{type:"text"},on:{click:function(t){e.orderReject(n),e.isTableOperateBtn=!0}}},[e._v("\n              Reject Order\n            ")]):e._e(),[1,3,4,5].includes(n.status)?a("el-button",{staticClass:"delBut",attrs:{type:"text"},on:{click:function(t){return e.cancelOrder(n)}}},[e._v("\n              Cancel\n            ")]):e._e()],1),a("div",{staticClass:"after"},[a("el-button",{staticClass:"blueBug non",attrs:{type:"text"},on:{click:function(t){return e.goDetail(n.id,n.status,n)}}},[e._v("\n              View\n            ")])],1)]}}],null,!1,4200391434)})],1):a("Empty",{attrs:{"is-search":e.isSearch}}),e.counts>10?a("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.counts},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),a("el-dialog",{staticClass:"order-dialog",attrs:{title:"Order Information",visible:e.dialogVisible,width:"53%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-scrollbar",{staticStyle:{height:"100%"}},[a("div",{staticClass:"order-top"},[a("div",[a("div",{staticStyle:{display:"inline-block"}},[a("label",{staticStyle:{"font-size":"16px"}},[e._v("Order Number：")]),a("div",{staticClass:"order-num"},[e._v("\n              "+e._s(e.diaForm.number)+"\n            ")])]),a("div",{staticClass:"order-status",class:{status3:[3,4].includes(e.dialogOrderStatus)},staticStyle:{display:"inline-block"}},[e._v("\n            "+e._s(e.orderList.filter((function(t){return t.value===e.dialogOrderStatus}))[0].label)+"\n          ")])]),a("p",[a("label",[e._v("Order Time：")]),e._v(e._s(e.diaForm.orderTime))])]),a("div",{staticClass:"order-middle"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-info-box"},[a("div",{staticClass:"user-name"},[a("label",[e._v("User Name：")]),a("span",[e._v(e._s(e.diaForm.consignee))])]),a("div",{staticClass:"user-phone"},[a("label",[e._v("Phone Number：")]),a("span",[e._v(e._s(e.diaForm.phone))])]),[2,3,4,5].includes(e.dialogOrderStatus)?a("div",{staticClass:"user-getTime"},[a("label",[e._v(e._s(5===e.dialogOrderStatus?"Delivery Time：":"Estimated Delivery Time："))]),a("span",[e._v(e._s(5===e.dialogOrderStatus?e.diaForm.deliveryTime:e.diaForm.estimatedDeliveryTime))])]):e._e(),a("div",{staticClass:"user-address"},[a("label",[e._v("Address：")]),a("span",[e._v(e._s(e.diaForm.address))])])]),a("div",{staticClass:"user-remark",class:{orderCancel:6===e.dialogOrderStatus}},[a("div",[e._v(e._s(6===e.dialogOrderStatus?"Cancel Reason":"Remark"))]),a("span",[e._v(e._s(6===e.dialogOrderStatus?e.diaForm.cancelReason||e.diaForm.rejectionReason:e.diaForm.remark))])])]),a("div",{staticClass:"dish-info"},[a("div",{staticClass:"dish-label"},[e._v("Dishes")]),a("div",{staticClass:"dish-list"},e._l(e.diaForm.orderDetailList,(function(t,n){return a("div",{key:n,staticClass:"dish-item"},[a("div",{staticClass:"dish-item-box"},[a("span",{staticClass:"dish-name"},[e._v(e._s(t.name))]),a("span",{staticClass:"dish-num"},[e._v("x"+e._s(t.number))])]),a("span",{staticClass:"dish-price"},[e._v("￥"+e._s(t.amount?t.amount.toFixed(2):""))])])})),0),a("div",{staticClass:"dish-all-amount"},[a("label",[e._v("Dish Subtotal")]),a("span",[e._v("￥"+e._s((e.diaForm.amount-6-e.diaForm.packAmount).toFixed(2)))])])])]),a("div",{staticClass:"order-bottom"},[a("div",{staticClass:"amount-info"},[a("div",{staticClass:"amount-label"},[e._v("Fee")]),a("div",{staticClass:"amount-list"},[a("div",{staticClass:"dish-amount"},[a("span",{staticClass:"amount-name"},[e._v("Dish Subtotal：")]),a("span",{staticClass:"amount-price"},[e._v("￥"+e._s(100*(e.diaForm.amount-6-e.diaForm.packAmount).toFixed(2)/100))])]),a("div",{staticClass:"send-amount"},[a("span",{staticClass:"amount-name"},[e._v("Delivery Fee：")]),a("span",{staticClass:"amount-price"},[e._v("RM"+e._s(6))])]),a("div",{staticClass:"package-amount"},[a("span",{staticClass:"amount-name"},[e._v("Pack Fee：")]),a("span",{staticClass:"amount-price"},[e._v("RM"+e._s(e.diaForm.packAmount?100*e.diaForm.packAmount.toFixed(2)/100:""))])]),a("div",{staticClass:"all-amount"},[a("span",{staticClass:"amount-name"},[e._v("Total：")]),a("span",{staticClass:"amount-price"},[e._v("RM"+e._s(e.diaForm.amount?100*e.diaForm.amount.toFixed(2)/100:""))])]),a("div",{staticClass:"pay-type"},[a("span",{staticClass:"pay-name"},[e._v("Payment Channel：")]),a("span",{staticClass:"pay-value"},[e._v(e._s(1===e.diaForm.payMethod?"WeChat Payment":"Alipay Payment"))])]),a("div",{staticClass:"pay-time"},[a("span",{staticClass:"pay-name"},[e._v("Payment Time：")]),a("span",{staticClass:"pay-value"},[e._v(e._s(e.diaForm.checkoutTime))])])])])])]),6!==e.dialogOrderStatus?a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[2===e.dialogOrderStatus&&2===e.orderStatus?a("el-checkbox",{model:{value:e.isAutoNext,callback:function(t){e.isAutoNext=t},expression:"isAutoNext"}},[e._v("After processing, automatically jump to the next one")]):e._e(),2===e.dialogOrderStatus?a("el-button",{on:{click:function(t){e.orderReject(e.row),e.isTableOperateBtn=!1}}},[e._v("Reject Order")]):e._e(),2===e.dialogOrderStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.orderAccept(e.row),e.isTableOperateBtn=!1}}},[e._v("Accept Order")]):e._e(),[1,3,4,5].includes(e.dialogOrderStatus)?a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("Back")]):e._e(),3===e.dialogOrderStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancelOrDeliveryOrComplete(3,e.row.id)}}},[e._v("Delivery")]):e._e(),4===e.dialogOrderStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancelOrDeliveryOrComplete(4,e.row.id)}}},[e._v("Complete")]):e._e(),[1].includes(e.dialogOrderStatus)?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.cancelOrder(e.row)}}},[e._v("Cancel Order")]):e._e()],1):e._e()],1),a("el-dialog",{staticClass:"cancelDialog",attrs:{title:e.cancelDialogTitle+"Reason",visible:e.cancelDialogVisible,width:"42%","before-close":function(){return e.cancelDialogVisible=!1,e.cancelReason=""}},on:{"update:visible":function(t){e.cancelDialogVisible=t}}},[a("el-form",{attrs:{"label-width":"90px"}},[a("el-form-item",{attrs:{label:e.cancelDialogTitle+"Reason："}},[a("el-select",{attrs:{placeholder:"Please select"+e.cancelDialogTitle+"Reason"},model:{value:e.cancelReason,callback:function(t){e.cancelReason=t},expression:"cancelReason"}},e._l("Cancel"===e.cancelDialogTitle?e.cancelrReasonList:e.cancelOrderReasonList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.label}})})),1)],1),"Custom Reason"===e.cancelReason?a("el-form-item",{attrs:{label:"Reason："}},[a("el-input",{attrs:{type:"textarea",placeholder:"Please enter your"+e.cancelDialogTitle+"Reason（Limited to 20 characters）",maxlength:"20"},model:{value:e.remark,callback:function(t){e.remark="string"===typeof t?t.trim():t},expression:"remark"}})],1):e._e()],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancelDialogVisible=!1,e.cancelReason=""}}},[e._v("Cancel")]),a("el-button",{attrs:{type:"primary"},on:{click:e.confirmCancel}},[e._v("Confirm")])],1)],1)],1)},r=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("96cf"),a("3b8d")),i=a("bd86"),o=(a("c5f6"),a("d225")),c=a("b0b4"),l=a("308d"),u=a("6bb5"),d=a("4e2b"),p=a("9ab4"),h=a("60a3"),m=a("d666"),f=a("4be2"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-change"},e._l(e.changedOrderList,(function(t){return a("div",{key:t.value,staticClass:"tab-item",class:{active:t.value===e.activeIndex},on:{click:function(a){return e.tabChange(t.value)}}},[a("el-badge",{staticClass:"item",class:{"special-item":t.num<10},attrs:{value:t.num>99?"99+":t.num,hidden:!([2,3,4].includes(t.value)&&t.num)}},[e._v("\n      "+e._s(t.label)+"\n    ")])],1)})),0)},_=[],v=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.activeIndex=e.defaultActivity||0,e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"onChange",value:function(e){this.activeIndex=Number(e)}},{key:"tabChange",value:function(e){this.activeIndex=e,this.$emit("tabChange",e)}},{key:"changedOrderList",get:function(){return[{label:"All orders",value:0},{label:"Pending Acceptance",value:2,num:this.orderStatics.toBeConfirmed},{label:"Pending Delivery",value:3,num:this.orderStatics.confirmed},{label:"Delivery in progress",value:4,num:this.orderStatics.deliveryInProgress},{label:"Completed",value:5},{label:"Cancelled",value:6}]}}]),t}(h["c"]);Object(p["a"])([Object(h["b"])({default:""})],v.prototype,"orderStatics",void 0),Object(p["a"])([Object(h["b"])({default:""})],v.prototype,"defaultActivity",void 0),Object(p["a"])([Object(h["d"])("defaultActivity")],v.prototype,"onChange",null),v=Object(p["a"])([Object(h["a"])({name:"TabChange"})],v);var g=v,y=g,O=(a("f655"),a("2877")),k=Object(O["a"])(y,b,_,!1,null,null,null),C=k.exports,j=a("fab1"),D=a("560a");function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){Object(i["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(l["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.defaultActivity=0,e.orderStatics={},e.row={},e.isAutoNext=!0,e.isTableOperateBtn=!0,e.currentPageIndex=0,e.orderId="",e.input="",e.phone="",e.valueTime=[],e.dialogVisible=!1,e.cancelDialogVisible=!1,e.cancelDialogTitle="",e.cancelReason="",e.remark="",e.counts=0,e.page=1,e.pageSize=10,e.tableData=[],e.diaForm=[],e.isSearch=!1,e.orderStatus=0,e.dialogOrderStatus=0,e.cancelOrderReasonList=[{value:1,label:"Order quantity is too large, temporarily unable to accept orders"},{value:2,label:"Dishes have been sold out, temporarily unable to accept orders"},{value:3,label:"Restaurant is closed, temporarily unable to accept orders"},{value:0,label:"Custom reason"}],e.cancelrReasonList=[{value:1,label:"Order quantity is too large, temporarily unable to accept orders"},{value:2,label:"Dishes have been sold out, temporarily unable to accept orders"},{value:3,label:"Rider shortage, unable to deliver"},{value:4,label:"Customer phone number cancelled"},{value:0,label:"Custom reason"}],e.orderList=[{label:"All orders",value:0},{label:"Pending Payment",value:1},{label:"Pending Acceptance",value:2},{label:"Pending Delivery",value:3},{label:"Delivery in progress",value:4},{label:"Completed",value:5},{label:"Cancelled",value:6}],e}return Object(d["a"])(t,e),Object(c["a"])(t,[{key:"created",value:function(){this.init(Number(this.$route.query.status)||0)}},{key:"mounted",value:function(){this.$route.query.orderId&&"undefined"!==this.$route.query.orderId&&this.goDetail(this.$route.query.orderId,2),this.$route.query.status&&(this.defaultActivity=this.$route.query.status)}},{key:"initFun",value:function(e){this.page=1,this.init(e)}},{key:"change",value:function(e){e!==this.orderStatus&&(this.init(e),this.input="",this.phone="",this.valueTime=[],this.dialogOrderStatus=0,this.$router.push("/order"),console.log(e,"Received the index of the sub-component"))}},{key:"getOrderListBy3Status",value:function(){var e=this;Object(D["d"])({}).then((function(t){1===t.data.code?e.orderStatics=t.data.data:e.$message.error(t.data.msg)})).catch((function(t){e.$message.error("Request failed："+t.message)}))}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0;this.isSearch=a;var n={page:this.page,pageSize:this.pageSize,number:this.input||void 0,phone:this.phone||void 0,beginTime:this.valueTime&&this.valueTime.length>0?this.valueTime[0]:void 0,endTime:this.valueTime&&this.valueTime.length>0?this.valueTime[1]:void 0,status:t||void 0};Object(D["c"])(w({},n)).then((function(a){if(1===a.data.code){if(e.tableData=a.data.data.records,e.orderStatus=t,e.counts=Number(a.data.data.total),e.getOrderListBy3Status(),!(2===e.dialogOrderStatus&&2===e.orderStatus&&e.isAutoNext&&!e.isTableOperateBtn&&a.data.data.records.length>1))return null;var n=a.data.data.records[0];e.goDetail(n.id,n.status,n)}else e.$message.error(a.data.msg)})).catch((function(t){e.$message.error("Request failed："+t.message)}))}},{key:"getOrderType",value:function(e){return 1===e.status?"Pending Payment":2===e.status?"Pending Acceptance":3===e.status?"Pending Delivery":4===e.status?"Delivery in progress":5===e.status?"Completed":6===e.status?"Cancelled":"Refund"}},{key:"goDetail",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a,n){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.diaForm=[],this.dialogVisible=!0,this.dialogOrderStatus=a,this.orderId=t,e.next=6,Object(D["h"])({orderId:t});case 6:r=e.sent,s=r.data,this.diaForm=s.data,this.row=n||{id:this.$route.query.orderId,status:a},this.$route.query.orderId&&this.$router.push("/order");case 11:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}()},{key:"orderReject",value:function(e){this.cancelDialogVisible=!0,this.orderId=e.id,this.dialogOrderStatus=e.status,this.cancelDialogTitle="Reject",this.dialogVisible=!1,this.cancelReason=""}},{key:"orderAccept",value:function(e){var t=this;this.orderId=e.id,this.dialogOrderStatus=e.status,Object(D["e"])({id:this.orderId}).then((function(e){1===e.data.code?(t.$message.success("Operation successful"),t.orderId="",t.dialogVisible=!1,t.init(t.orderStatus)):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error("Request failed："+e.message)}))}},{key:"cancelOrder",value:function(e){this.cancelDialogVisible=!0,this.orderId=e.id,this.dialogOrderStatus=e.status,this.cancelDialogTitle="Cancel",this.dialogVisible=!1,this.cancelReason=""}},{key:"confirmCancel",value:function(e){var t=this;return this.cancelReason?"Custom reason"!==this.cancelReason||this.remark?void("Cancel"===this.cancelDialogTitle?D["f"]:D["g"])(Object(i["a"])({id:this.orderId},"Cancel"===this.cancelDialogTitle?"cancelReason":"rejectionReason","Custom reason"===this.cancelReason?this.remark:this.cancelReason)).then((function(e){1===e.data.code?(t.$message.success("Operation successful"),t.cancelDialogVisible=!1,t.orderId="",t.init(t.orderStatus)):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error("Request failed："+e.message)})):this.$message.error("Please enter".concat(this.cancelDialogTitle,"Reason")):this.$message.error("Please select".concat(this.cancelDialogTitle,"Reason"))}},{key:"cancelOrDeliveryOrComplete",value:function(e,t){var a=this,n={status:e,id:t};(3===e?D["b"]:D["a"])(n).then((function(e){1===e.data.code?(a.$message.success("Operation successful"),a.orderId="",a.dialogVisible=!1,a.init(a.orderStatus)):a.$message.error(e.data.msg)})).catch((function(e){a.$message.error("Request failed："+e.message)}))}},{key:"handleClose",value:function(){this.dialogVisible=!1}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.init(this.orderStatus)}},{key:"handleCurrentChange",value:function(e){this.page=e,this.init(this.orderStatus)}}]),t}(h["c"]);x=Object(p["a"])([Object(h["a"])({components:{HeadLable:m["a"],InputAutoComplete:f["a"],TabChange:C,Empty:j["a"]}})],x);var E=x,T=E,L=(a("c8ff"),a("9d4c"),Object(O["a"])(T,n,r,!1,null,"71513fda",null));t["default"]=L.exports},"8b97":function(e,t,a){var n=a("d3f4"),r=a("cb7c"),s=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,a){return s(e,a),t?e.__proto__=a:n(e,a),e}}({},!1):void 0),check:s}},9744:function(e,t,a){"use strict";var n=a("4588"),r=a("be13");e.exports=function(e){var t=String(r(this)),a="",s=n(e);if(s<0||s==1/0)throw RangeError("Count can't be negative");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(a+=t);return a}},"97b6":function(e,t,a){},"9ae3":function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},"9d4c":function(e,t,a){"use strict";var n=a("9ae3"),r=a.n(n);r.a},"9de0":function(e,t,a){"use strict";var n=a("c486"),r=a.n(n);r.a},a192:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"container"},[a("div",{staticClass:"tableBar",staticStyle:{display:"inline-block",width:"100%"}},[a("label",{staticStyle:{"margin-right":"10px"}},[e._v("Category Name:")]),a("el-input",{staticStyle:{width:"15%"},attrs:{placeholder:"Please enter category name",clearable:""},on:{clear:e.init},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.init(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("label",{staticStyle:{"margin-right":"5px","margin-left":"20px"}},[e._v("Category Type:")]),a("el-select",{staticStyle:{width:"15%"},attrs:{placeholder:"Please select",clearable:""},on:{clear:e.init},model:{value:e.categoryType,callback:function(t){e.categoryType=t},expression:"categoryType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),a("div",{staticStyle:{float:"right"}},[a("el-button",{staticClass:"continue",attrs:{type:"primary"},on:{click:function(t){return e.addClass("class")}}},[e._v("\n          + Add Dish Category\n        ")]),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.addClass("meal")}}},[e._v("\n          + Add Set Meal Category\n        ")])],1),a("el-button",{staticClass:"normal-btn continue",on:{click:function(t){return e.init(!0)}}},[e._v("\n        Search\n      ")])],1),e.tableData.length?a("el-table",{staticClass:"tableBox",attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"Category Name"}}),a("el-table-column",{attrs:{prop:"type",label:"Category Type"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s("1"==t.row.type?"Dish Category":"Set Meal Category"))])]}}],null,!1,3663205083)}),a("el-table-column",{attrs:{prop:"sort",label:"Sort Order"}}),a("el-table-column",{attrs:{label:"Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"tableColumn-status",class:{"stop-use":"0"===String(t.row.status)}},[e._v("\n            "+e._s("0"===String(t.row.status)?"Disabled":"Enabled")+"\n          ")])]}}],null,!1,3151598052)}),a("el-table-column",{attrs:{prop:"updateTime",label:"Operation Time"}}),a("el-table-column",{attrs:{label:"Actions",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"blueBug",attrs:{type:"text",size:"small"},on:{click:function(a){return e.editHandle(t.row)}}},[e._v("\n            Edit\n          ")]),a("el-button",{staticClass:"delBut",attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteHandle(t.row.id)}}},[e._v("\n            Delete\n          ")]),a("el-button",{staticClass:"non",class:{blueBug:"0"==t.row.status,delBut:"0"!=t.row.status},attrs:{type:"text",size:"small"},on:{click:function(a){return e.statusHandle(t.row)}}},[e._v("\n            "+e._s("1"==t.row.status?"Disable":"Enable")+"\n          ")])]}}],null,!1,3931097715)})],1):a("Empty",{attrs:{"is-search":e.isSearch}}),e.counts>10?a("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.counts},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1),a("el-dialog",{attrs:{title:e.classData.title,visible:e.classData.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.classData,"dialogVisible",t)}}},[a("el-form",{ref:"classData",staticClass:"demo-form-inline",attrs:{model:e.classData,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"Category Name:",prop:"name"}},[a("el-input",{attrs:{placeholder:"Please enter category name",maxlength:"20"},model:{value:e.classData.name,callback:function(t){e.$set(e.classData,"name",t)},expression:"classData.name"}})],1),a("el-form-item",{attrs:{label:"Sort Order:",prop:"sort"}},[a("el-input",{attrs:{placeholder:"Please enter sort order"},model:{value:e.classData.sort,callback:function(t){e.$set(e.classData,"sort",t)},expression:"classData.sort"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"medium"},on:{click:function(t){e.classData.dialogVisible=!1,e.$refs.classData.resetFields()}}},[e._v("Cancel")]),a("el-button",{class:{continue:"add"===e.actionType},attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitForm()}}},[e._v("Confirm")]),"edit"!=e.action?a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.submitForm("go")}}},[e._v("\n        Save and Continue Adding\n      ")]):e._e()],1)],1)],1)},r=[],s=(a("3b2b"),a("55dd"),a("c5f6"),a("7f7f"),a("96cf"),a("3b8d")),i=a("d225"),o=a("b0b4"),c=a("308d"),l=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),h=a("d666"),m=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),f=a("b32d");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(m["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(e){return Object(f["a"])({url:"/category/page",method:"get",params:e})},g=function(e){return Object(f["a"])({url:"/category",method:"delete",params:{id:e}})},y=function(e){return Object(f["a"])({url:"/category",method:"put",data:_({},e)})},O=function(e){return Object(f["a"])({url:"/category",method:"post",data:_({},e)})},k=function(e){return Object(f["a"])({url:"/category/status/".concat(e.status),method:"post",params:{id:e.id}})},C=a("fab1"),j=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.options=[{value:1,label:"Dish Category"},{value:2,label:"Set Meal Category"}],e.actionType="",e.id="",e.status="",e.categoryType=null,e.name="",e.action="",e.counts=0,e.page=1,e.pageSize=10,e.tableData=[],e.type="",e.isSearch=!1,e.classData={title:"Add Dish Category",dialogVisible:!1,categoryId:"",name:"",sort:""},e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.init()}},{key:"init",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSearch=t,e.next=3,v({page:this.page,pageSize:this.pageSize,name:this.name?this.name:void 0,type:this.categoryType?this.categoryType:void 0}).then((function(e){"1"===String(e.data.code)?(a.tableData=e&&e.data&&e.data.data&&e.data.data.records,a.counts=Number(e.data.data.total)):a.$message.error(e.data.desc)})).catch((function(e){console.log(e,"err"),a.$message.error("Request error: "+e.message)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addClass",value:function(e){"class"==e?(this.classData.title="Add Dish Category",this.type="1"):(this.classData.title="Add Set Meal Category",this.type="2"),this.action="add",this.classData.name="",this.classData.sort="",this.classData.dialogVisible=!0,this.actionType="add"}},{key:"editHandle",value:function(e){this.classData.title="Edit Category",this.action="edit",this.classData.name=e.name,this.classData.sort=e.sort,this.classData.id=e.id,this.classData.dialogVisible=!0,this.actionType="edit"}},{key:"handleClose",value:function(e){console.log(this.$refs.classData,"this.$refs.classData"),this.classData.dialogVisible=!1,this.$refs.classData.resetFields()}},{key:"statusHandle",value:function(e){var t=this;this.id=e.id,this.status=e.status,this.$confirm("Are you sure you want to change the status of this category?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",customClass:"customClass"}).then((function(){k({id:t.id,status:t.status?0:1}).then((function(e){"200"===String(e.status)&&(t.$message.success("Category status changed successfully!"),t.init())})).catch((function(e){t.$message.error("Request failed: "+e.message)}))}))}},{key:"deleteHandle",value:function(e){var t=this;this.$confirm("This action will permanently delete the category. Continue?","Confirm Deletion",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then((function(){g(e).then((function(e){1===e.data.code?(t.$message.success("Deleted successfully!"),t.init()):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error("Request failed: "+e.message)}))}))}},{key:"submitForm",value:function(e){var t=this;"add"===this.action?this.$refs.classData.validate((function(a){a&&O({name:t.classData.name,type:t.type,sort:t.classData.sort}).then((function(a){1===a.data.code?(t.$message.success("Category added successfully!"),t.$refs.classData.resetFields(),e||(t.classData.dialogVisible=!1),t.init()):t.$message.error(a.data.desc||a.data.msg)})).catch((function(e){t.$message.error("Request failed: "+e.message)}))})):this.$refs.classData.validate((function(e){e&&y({id:t.classData.id,name:t.classData.name,sort:t.classData.sort}).then((function(e){1===e.data.code?(t.$message.success("Category modified successfully!"),t.classData.dialogVisible=!1,t.$refs.classData.resetFields(),t.init()):t.$message.error(e.data.desc||e.data.msg)})).catch((function(e){t.$message.error("Request failed: "+e.message)}))}))}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.init()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.init()}},{key:"rules",get:function(){var e=this;return{name:[{required:!0,trigger:"blur",validator:function(t,a,n){var r=new RegExp("^[A-Za-z一-龥]+$");a?a.length<2?n(new Error("Category name is invalid, please enter 2-20 characters")):r.test(a)?n():n(new Error("Category name contains special characters")):n(new Error(e.classData.title+" cannot be empty"))}}],sort:[{required:!0,trigger:"blur",validator:function(e,t,a){if(t||"0"===String(t)){var n=/^\d+$/;n.test(t)?Number(t)>99?a(new Error("Sort order must be between 0-99")):a():a(new Error("Sort order must be numeric"))}else a(new Error("Sort order cannot be empty"))}}]}}}]),t}(p["c"]);j=Object(d["a"])([Object(p["a"])({name:"Category",components:{HeadLable:h["a"],Empty:C["a"]}})],j);var D=j,S=D,w=(a("e0ea"),a("d44d"),a("2877")),x=Object(w["a"])(S,n,r,!1,null,"19ceccbe",null);t["default"]=x.exports},aa77:function(e,t,a){var n=a("5ca1"),r=a("be13"),s=a("79e5"),i=a("fdef"),o="["+i+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(e,t,a){var r={},o=s((function(){return!!i[e]()||c[e]()!=c})),l=r[e]=o?t(p):i[e];a&&(r[a]=l),n(n.P+n.F*o,"String",r)},p=d.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},ac67:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container home"},[a("TitleIndex",{attrs:{flag:e.flag,tateData:e.tateData},on:{sendTitleInd:e.getTitleNum}}),a("div",{staticClass:"homeMain"},[a("TurnoverStatistics",{attrs:{turnoverdata:e.turnoverData}}),a("UserStatistics",{attrs:{userdata:e.userData}})],1),a("div",{staticClass:"homeMain homecon"},[a("OrderStatistics",{attrs:{orderdata:e.orderData,overviewData:e.overviewData}}),a("Top",{attrs:{top10data:e.top10Data}})],1)],1)},r=[],s=(a("28a5"),a("96cf"),a("3b8d")),i=a("d225"),o=a("b0b4"),c=a("308d"),l=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),h=a("d9cf"),m=a("79f6"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-index"},[a("div",{staticClass:"month"},[a("ul",{staticClass:"tabs"},e._l(e.tabsParam,(function(t,n){return a("li",{key:n,staticClass:"li-tab",class:{active:n===e.nowIndex},on:{click:function(t){return e.toggleTabs(n)}}},[e._v("\n        "+e._s(t)+"\n        "),a("span")])})),0)]),a("div",{staticClass:"get-time"},[a("p",[e._v("\n      Selected time: "+e._s(e.tateData[0])+" to\n      "+e._s(e.tateData[e.tateData.length-1])+"\n    ")])]),a("el-button",{staticClass:"right-el-button",attrs:{icon:"iconfont icon-download"},on:{click:e.handleExport}},[e._v("Data export")])],1)},b=[],_=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.nowIndex=1,e.value=[],e.tabsParam=["Yesterday","Last 7 days","Last 30 days","This week","This month"],e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"getNowIndex",value:function(e){this.nowIndex=e}},{key:"toggleTabs",value:function(e){this.nowIndex=e,this.value=[],this.$emit("sendTitleInd",e+1)}},{key:"handleExport",value:function(){this.$confirm("Are you sure you want to export the last 30 days of operation data?","Prompt",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["a"])();case 2:t=e.sent,a=t.data,n=window.URL.createObjectURL(a),r=document.createElement("a"),document.body.appendChild(r),r.href=n,r.download="Operation data statistics report.xlsx",r.click(),window.URL.revokeObjectURL(n);case 11:case"end":return e.stop()}}),e)})))).then((function(e){}))}}]),t}(p["c"]);Object(d["a"])([Object(p["b"])()],_.prototype,"flag",void 0),Object(d["a"])([Object(p["b"])()],_.prototype,"tateData",void 0),Object(d["a"])([Object(p["b"])()],_.prototype,"turnoverData",void 0),Object(d["a"])([Object(p["d"])("flag")],_.prototype,"getNowIndex",null),_=Object(d["a"])([Object(p["a"])({name:"TitleIndex"})],_);var v=_,g=v,y=a("2877"),O=Object(y["a"])(g,f,b,!1,null,null,null),k=O.exports,C=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},j=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h2",{staticClass:"homeTitle"},[e._v("Turnover statistics")]),a("div",{staticClass:"charBox"},[a("div",{staticStyle:{width:"100%",height:"320px"},attrs:{id:"main"}}),a("ul",{staticClass:"orderListLine turnover"},[a("li",[e._v("Turnover (RM)")])])])])}],D=a("313e"),S=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"getData",value:function(){var e=this;this.$nextTick((function(){e.initChart()}))}},{key:"initChart",value:function(){var e,t=document.getElementById("main"),a=D["init"](t);e={tooltip:{trigger:"axis"},grid:{top:"5%",left:"10",right:"50",bottom:"12%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}},axisLine:{lineStyle:{color:"#E5E4E4",width:1}},data:this.turnoverdata.dateList},yAxis:[{type:"value",min:0,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}}}],series:[{name:"Turnover",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#F29C1B",lineStyle:{color:"#FFD000"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FFC100"}},data:this.turnoverdata.turnoverList}]},e&&a.setOption(e)}}]),t}(p["c"]);Object(d["a"])([Object(p["b"])()],S.prototype,"turnoverdata",void 0),Object(d["a"])([Object(p["d"])("turnoverdata")],S.prototype,"getData",null),S=Object(d["a"])([Object(p["a"])({name:"TurnoverStatistics"})],S);var w=S,x=w,E=Object(y["a"])(x,C,j,!1,null,null,null),T=E.exports,L=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},P=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h2",{staticClass:"homeTitle"},[e._v("User statistics")]),a("div",{staticClass:"charBox"},[a("div",{staticStyle:{width:"100%",height:"320px"},attrs:{id:"usermain"}}),a("ul",{staticClass:"orderListLine user"},[a("li",{staticClass:"one"},[a("span"),e._v("Total users (pcs)")]),a("li",{staticClass:"three"},[a("span"),e._v("New users (pcs)")])])])])}],A=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"getData",value:function(){var e=this;this.$nextTick((function(){e.initChart()}))}},{key:"initChart",value:function(){var e,t=document.getElementById("usermain"),a=D["init"](t);e={tooltip:{trigger:"axis",backgroundColor:"#fff",borderRadius:2,textStyle:{color:"#333",fontSize:12,fontWeight:300}},grid:{top:"5%",left:"20",right:"50",bottom:"12%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}},axisLine:{lineStyle:{color:"#E5E4E4",width:1}},data:this.userdata.dateList},yAxis:[{type:"value",min:0,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}}}],series:[{name:"Total users",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#FFD000",lineStyle:{color:"#FFD000"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FFC100"}},data:this.userdata.totalUserList},{name:"New users",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#FD7F7F",fontWeigth:300,lineStyle:{color:"#FD7F7F"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FD7F7F"}},data:this.userdata.newUserList}]},e&&a.setOption(e)}}]),t}(p["c"]);Object(d["a"])([Object(p["b"])()],A.prototype,"userdata",void 0),Object(d["a"])([Object(p["d"])("userdata")],A.prototype,"getData",null),A=Object(d["a"])([Object(p["a"])({name:"UserStatistics"})],A);var F=A,I=F,R=Object(y["a"])(I,L,P,!1,null,"530cbaec",null),B=R.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("h2",{staticClass:"homeTitle"},[e._v("Order statistics")]),a("div",{staticClass:"charBox"},[a("div",{staticClass:"orderProportion"},[a("div",[a("p",[e._v("Order completion rate")]),a("p",[e._v(e._s((100*e.orderdata.orderCompletionRate).toFixed(1))+"%")])]),a("div",{staticClass:"symbol"},[e._v("=")]),a("div",[a("p",[e._v("Valid orders")]),a("p",[e._v(e._s(e.orderdata.validOrderCount))])]),a("div",{staticClass:"symbol"},[e._v("/")]),a("div",[a("p",[e._v("Total orders")]),a("p",[e._v(e._s(e.orderdata.totalOrderCount))])])]),a("div",{staticStyle:{width:"100%",height:"300px"},attrs:{id:"ordermain"}}),e._m(0)])])},$=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{staticClass:"orderListLine"},[a("li",{staticClass:"one"},[a("span"),e._v("Total orders (pcs)")]),a("li",{staticClass:"three"},[a("span"),e._v("Valid orders (pcs)")])])}],M=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"getData",value:function(){var e=this;this.$nextTick((function(){e.initChart()}))}},{key:"initChart",value:function(){var e,t=document.getElementById("ordermain"),a=D["init"](t);console.log(this.orderdata),e={tooltip:{trigger:"axis",backgroundColor:"#fff",borderRadius:2,textStyle:{color:"#333",fontSize:12,fontWeight:300}},grid:{top:"5%",left:"20",right:"50",bottom:"12%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}},axisLine:{lineStyle:{color:"#E5E4E4",width:1}},data:this.orderdata.data.dateList},yAxis:[{type:"value",min:0,interval:50,axisLabel:{textStyle:{color:"#666",fontSize:"12px"}}}],series:[{name:"Total orders",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#FFD000",lineStyle:{color:"#FFD000"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FFC100"}},data:this.orderdata.data.orderCountList},{name:"Valid orders",type:"line",smooth:!1,showSymbol:!1,symbolSize:10,itemStyle:{normal:{color:"#FD7F7F",lineStyle:{color:"#FD7F7F"}},emphasis:{color:"#fff",borderWidth:5,borderColor:"#FD7F7F"}},data:this.orderdata.data.validOrderCountList}]},e&&a.setOption(e)}}]),t}(p["c"]);Object(d["a"])([Object(p["b"])()],M.prototype,"orderdata",void 0),Object(d["a"])([Object(p["b"])()],M.prototype,"overviewData",void 0),Object(d["a"])([Object(p["d"])("orderdata")],M.prototype,"getData",null),M=Object(d["a"])([Object(p["a"])({name:"OrderStatistics"})],M);var N=M,z=N,W=Object(y["a"])(z,U,$,!1,null,null,null),q=W.exports,K=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Y=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container top10"},[a("h2",{staticClass:"homeTitle"},[e._v("Top 10 sales")]),a("div",{staticClass:"charBox"},[a("div",{staticStyle:{width:"100%",height:"380px"},attrs:{id:"top"}})])])}],V=function(e){function t(){return Object(i["a"])(this,t),Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"getData",value:function(){var e=this;this.$nextTick((function(){e.initChart()}))}},{key:"initChart",value:function(){var e,t=document.getElementById("top"),a=D["init"](t);e={tooltip:{trigger:"axis",backgroundColor:"#fff",borderRadius:2,textStyle:{color:"#333",fontSize:12,fontWeight:300}},grid:{top:"-10px",left:"0",right:"0",bottom:"0",containLabel:!0},xAxis:{show:!1},yAxis:{axisLine:{show:!1},axisTick:{show:!1,alignWithLabel:!0},type:"category",axisLabel:{textStyle:{color:"#666",fontSize:"12px"}},data:this.top10data.nameList},series:[{data:this.top10data.numberList,type:"bar",showBackground:!0,backgroundStyle:{color:"#F3F4F7"},barWidth:20,barGap:"80%",barCategoryGap:"80%",itemStyle:{emphasis:{barBorderRadius:30},normal:{barBorderRadius:[0,10,10,0],color:new D["graphic"].LinearGradient(1,0,0,0,[{offset:0,color:"#FFBD00"},{offset:1,color:"#FFD000"}]),label:{show:!0,formatter:"{@score}",color:"#333",position:["8","5"]}}}}]},e&&a.setOption(e)}}]),t}(p["c"]);Object(d["a"])([Object(p["b"])()],V.prototype,"top10data",void 0),Object(d["a"])([Object(p["d"])("top10data")],V.prototype,"getData",null),V=Object(d["a"])([Object(p["a"])({name:"Top"})],V);var H=V,J=H,G=Object(y["a"])(J,K,Y,!1,null,null,null),X=G.exports,Q=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.overviewData={},e.flag=2,e.tateData=[],e.turnoverData={},e.userData={},e.orderData={data:{}},e.top10Data={},e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.getTitleNum(2)}},{key:"init",value:function(e,t){var a=this;this.$nextTick((function(){a.getTurnoverStatisticsData(e,t),a.getUserStatisticsData(e,t),a.getOrderStatisticsData(e,t),a.getTopData(e,t)}))}},{key:"getTurnoverStatisticsData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["h"])({begin:t,end:a});case 2:n=e.sent,r=n.data.data,this.turnoverData={dateList:r.dateList.split(","),turnoverList:r.turnoverList.split(",")};case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getUserStatisticsData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["i"])({begin:t,end:a});case 2:n=e.sent,r=n.data.data,this.userData={dateList:r.dateList.split(","),totalUserList:r.totalUserList.split(","),newUserList:r.newUserList.split(",")};case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getOrderStatisticsData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["d"])({begin:t,end:a});case 2:n=e.sent,r=n.data.data,this.orderData={data:{dateList:r.dateList.split(","),orderCountList:r.orderCountList.split(","),validOrderCountList:r.validOrderCountList.split(",")},totalOrderCount:r.totalOrderCount,validOrderCount:r.validOrderCount,orderCompletionRate:r.orderCompletionRate};case 5:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getTopData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["g"])({begin:t,end:a});case 2:n=e.sent,r=n.data.data,this.top10Data={nameList:r.nameList.split(",").reverse(),numberList:r.numberList.split(",").reverse()},console.log(this.top10Data);case 6:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"getTitleNum",value:function(e){switch(e){case 1:this.tateData=Object(h["a"])();break;case 2:this.tateData=Object(h["d"])();break;case 3:this.tateData=Object(h["c"])();break;case 4:this.tateData=Object(h["f"])();break;case 5:this.tateData=Object(h["e"])();break}this.init(this.tateData[0],this.tateData[1])}}]),t}(p["c"]);Q=Object(d["a"])([Object(p["a"])({name:"Dashboard",components:{TitleIndex:k,TurnoverStatistics:T,UserStatistics:B,OrderStatistics:q,Top:X}})],Q);var Z=Q,ee=Z,te=Object(y["a"])(ee,n,r,!1,null,null,null);t["default"]=te.exports},ad4a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-container"},[n("div",{staticClass:"container"},[n("div",{staticClass:"tableBar"},[n("label",{staticStyle:{"margin-right":"10px"}},[e._v("Dish Name:")]),n("el-input",{staticStyle:{width:"14%"},attrs:{placeholder:"Please enter dish name",clearable:""},on:{clear:e.init},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initFun(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}}),n("label",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[e._v("Dish Category:")]),n("el-select",{staticStyle:{width:"14%"},attrs:{placeholder:"Please select",clearable:""},on:{clear:e.init},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}},e._l(e.dishCategoryList,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("label",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[e._v("Sale Status:")]),n("el-select",{staticStyle:{width:"14%"},attrs:{placeholder:"Please select",clearable:""},on:{clear:e.init},model:{value:e.dishStatus,callback:function(t){e.dishStatus=t},expression:"dishStatus"}},e._l(e.saleStatus,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),n("el-button",{staticClass:"normal-btn continue",on:{click:function(t){return e.init(!0)}}},[e._v("\n        Search\n      ")]),n("div",{staticClass:"tableLab"},[n("span",{staticClass:"delBut non",on:{click:function(t){return e.deleteHandle("Batch",null)}}},[e._v("Batch Delete")]),n("el-button",{staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:function(t){return e.addDishtype("add")}}},[e._v("\n          + Add Dish\n        ")])],1)],1),e.tableData.length?n("el-table",{staticClass:"tableBox",attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"25"}}),n("el-table-column",{attrs:{prop:"name",label:"Dish Name"}}),n("el-table-column",{attrs:{prop:"image",label:"Image"},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.row;return[n("el-image",{staticStyle:{width:"80px",height:"40px",border:"none",cursor:"pointer"},attrs:{src:t.image}},[n("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[n("img",{staticStyle:{width:"auto",height:"40px",border:"none"},attrs:{src:a("19e6")}})])])]}}],null,!1,3986313203)}),n("el-table-column",{attrs:{prop:"categoryName",label:"Dish Category"}}),n("el-table-column",{attrs:{label:"Price"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{"margin-right":"10px"}},[e._v("￥"+e._s(100*t.row.price.toFixed(2)/100))])]}}],null,!1,2377909288)}),n("el-table-column",{attrs:{label:"Sale Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"tableColumn-status",class:{"stop-use":"0"===String(t.row.status)}},[e._v("\n            "+e._s("0"===String(t.row.status)?"Discontinued":"On Sale")+"\n          ")])]}}],null,!1,3091249584)}),n("el-table-column",{attrs:{prop:"updateTime",label:"Last Operation Time"}}),n("el-table-column",{attrs:{label:"Actions",width:"250",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{staticClass:"blueBug",attrs:{type:"text",size:"small"},on:{click:function(a){return e.addDishtype(t.row.id)}}},[e._v("\n            Edit\n          ")]),n("el-button",{staticClass:"delBut",attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteHandle("Single",t.row.id)}}},[e._v("\n            Delete\n          ")]),n("el-button",{staticClass:"non",class:{blueBug:"0"==t.row.status,delBut:"0"!=t.row.status},attrs:{type:"text",size:"small"},on:{click:function(a){return e.statusHandle(t.row)}}},[e._v("\n            "+e._s("0"==t.row.status?"On Sale":"Discontinued")+"\n          ")])]}}],null,!1,2456785226)})],1):n("Empty",{attrs:{"is-search":e.isSearch}}),e.counts>10?n("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.counts},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])},r=[],s=(a("ac6a"),a("7f7f"),a("c5f6"),a("96cf"),a("3b8d")),i=a("d225"),o=a("b0b4"),c=a("308d"),l=a("6bb5"),u=a("4e2b"),d=a("9ab4"),p=a("60a3"),h=a("d666"),m=a("38b8"),f=a("4be2"),b=a("fab1"),_=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(c["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.input="",e.counts=0,e.page=1,e.pageSize=10,e.checkList=[],e.tableData=[],e.dishState="",e.dishCategoryList=[],e.categoryId="",e.dishStatus="",e.isSearch=!1,e.saleStatus=[{value:0,label:"Discontinued"},{value:1,label:"On Sale"}],e}return Object(u["a"])(t,e),Object(o["a"])(t,[{key:"created",value:function(){this.init(),this.getDishCategoryList()}},{key:"initProp",value:function(e){this.input=e,this.initFun()}},{key:"initFun",value:function(){this.page=1,this.init()}},{key:"init",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isSearch=t,e.next=3,Object(m["g"])({page:this.page,pageSize:this.pageSize,name:this.input||void 0,categoryId:this.categoryId||void 0,status:this.dishStatus}).then((function(e){1===e.data.code&&(a.tableData=e.data&&e.data.data&&e.data.data.records,a.counts=Number(e.data.data.total))})).catch((function(e){a.$message.error("Request failed: "+e.message)}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addDishtype",value:function(e){"add"===e?this.$router.push({path:"/dish/add"}):this.$router.push({path:"/dish/add",query:{id:e}})}},{key:"deleteHandle",value:function(e,t){var a=this;if("Batch"===e&&null===t&&0===this.checkList.length)return this.$message.error("Please select items to delete");this.$confirm("Are you sure you want to delete this dish?","Confirm Deletion",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then((function(){Object(m["b"])("Batch"===e?a.checkList.join(","):t).then((function(e){e&&e.data&&1===e.data.code?(a.$message.success("Deleted successfully!"),a.init()):a.$message.error(e.data.msg)})).catch((function(e){a.$message.error("Request failed: "+e.message)}))}))}},{key:"getDishCategoryList",value:function(){var e=this;Object(m["c"])({type:1}).then((function(t){t&&t.data&&1===t.data.code&&(e.dishCategoryList=(t.data&&t.data.data&&t.data.data).map((function(e){return{value:e.id,label:e.name}})))})).catch((function(){}))}},{key:"statusHandle",value:function(e){var t=this,a={};if("string"===typeof e){if(0===this.checkList.length)return this.$message.error("For batch operations, please select the dishes first!"),!1;a.id=this.checkList.join(","),a.status=e}else a.id=e.id,a.status=e.status?"0":"1";this.dishState=a,this.$confirm("Are you sure you want to change the status of this dish?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then((function(){Object(m["d"])(t.dishState).then((function(e){e&&e.data&&1===e.data.code?(t.$message.success("Dish status has been changed successfully!"),t.init()):t.$message.error(e.data.msg)})).catch((function(e){t.$message.error("Request failed: "+e.message)}))}))}},{key:"handleSelectionChange",value:function(e){var t=[];e.forEach((function(e){t.push(e.id)})),this.checkList=t}},{key:"handleSizeChange",value:function(e){this.pageSize=e,this.init()}},{key:"handleCurrentChange",value:function(e){this.page=e,this.init()}}]),t}(p["c"]);_=Object(d["a"])([Object(p["a"])({name:"DishType",components:{HeadLable:h["a"],InputAutoComplete:f["a"],Empty:b["a"]}})],_);var v=_,g=v,y=(a("fb34"),a("3040"),a("2877")),O=Object(y["a"])(g,n,r,!1,null,"cf6b0c26",null);t["default"]=O.exports},b39a:function(e,t,a){var n=a("d3f4");e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},b8bc:function(e,t,a){"use strict";var n=a("d6f9"),r=a.n(n);r.a},b8ec:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return d})),a.d(t,"g",(function(){return p})),a.d(t,"c",(function(){return h}));a("8e6e"),a("ac6a"),a("456d");var n=a("bd86"),r=a("b32d");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(n["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o=function(e){return Object(r["a"])({url:"/setmeal/page",method:"get",params:e})},c=function(e){return Object(r["a"])({url:"/setmeal",method:"delete",params:{ids:e}})},l=function(e){return Object(r["a"])({url:"/setmeal",method:"put",data:i({},e)})},u=function(e){return Object(r["a"])({url:"/setmeal",method:"post",data:i({},e)})},d=function(e){return Object(r["a"])({url:"/setmeal/".concat(e),method:"get"})},p=function(e){return Object(r["a"])({url:"/setmeal/status/".concat(e.status),method:"post",params:{id:e.ids}})},h=function(e){return Object(r["a"])({url:"/category/list",method:"get",params:i({},e)})}},b911:function(e,t,a){"use strict";var n=a("d4e0"),r=a.n(n);r.a},bb09:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"informBox"},[a("ul",{staticClass:"conTab"},e._l(e.tabList,(function(t,n){return a("li",{key:n,class:e.activeIndex===n?"active":"",on:{click:function(t){return e.handleClass(n)}}},[a("el-badge",{staticClass:"item",class:e.ountUnread>=10?"badgeW":"",attrs:{value:0===e.ountUnread?null:e.ountUnread>99?"99+":e.ountUnread,hidden:!([1].includes(t.value)&&e.ountUnread)}},[e._v(e._s(t.label))])],1)})),0),1===e.status&&e.baseData.length>0?a("el-button",{staticClass:"right-el-button",attrs:{icon:"iconfont icon-clear"},on:{click:e.handleBatch}},[e._v("Mark All as Read")]):a("el-button",{staticClass:"right-el-button onbutton",attrs:{icon:"iconfont icon-clear",disabled:""}},[e._v("Mark All as Read")])],1),a("div",{staticClass:"container newBox",class:{hContainer:e.baseData.length}},[e.baseData.length>0?a("div",{staticClass:"informList"},e._l(e.baseData,(function(t,n){return a("div",{key:n},[1===t.type?a("div",{staticClass:"item"},[a("div",{staticClass:"tit"},[a("span",[e._v("[Pending]")]),e._v(e._s(t.arrNew[0])),a("span",{staticClass:"fontOrderTip",on:{click:function(a){return e.handleSetStatus(t.id)}}},[a("router-link",{attrs:{to:"/order?status=2"}},[e._v(e._s(t.arrNew[1]))])],1),e._v(e._s(t.arrNew[2])),a("span",{staticClass:"time"},[e._v(e._s(t.createTime))])])]):e._e(),2===t.type?a("div",{staticClass:"item"},[a("div",{staticClass:"tit"},[a("i",[e._v("Urgent")]),a("span",[e._v("[Pending]")]),e._v(e._s(t.arrNew[0])),a("span",{staticClass:"fontOrderTip",on:{click:function(a){return e.handleSetStatus(t.id)}}},[a("router-link",{attrs:{to:"/order?status=2"}},[e._v(e._s(t.arrNew[1]))])],1),e._v(e._s(t.arrNew[2])),a("span",{staticClass:"time"},[e._v(e._s(t.createTime))])])]):e._e(),3===t.type?a("div",{staticClass:"item"},[a("div",{staticClass:"tit"},[a("span",[e._v("[To be Dispatched]")]),e._v(e._s(t.arrNew[0])),a("span",{staticClass:"fontOrderTip",on:{click:function(a){return e.handleSetStatus(t.id)}}},[a("router-link",{attrs:{to:"/order?status=2"}},[e._v(e._s(t.arrNew[1]))])],1),e._v(e._s(t.arrNew[2])),a("span",{staticClass:"time"},[e._v(e._s(t.createTime))])])]):e._e(),4===t.type?a("div",{staticClass:"item",on:{mouseenter:function(a){return e.toggleShow(t.id,n)},mouseleave:function(t){return e.mouseLeaves(n)}}},[a("div",{class:e.isActive?"titAlready":""},[a("div",{staticClass:"tit"},[a("span",[e._v("[Reminder]")]),e._v(e._s(t.arrNew[0])+"\n              "),a("span",{staticClass:"time"},[e._v(e._s(t.createTime))])]),e.shopShow&&e.showIndex===n?a("div",{staticClass:"orderInfo"},[a("p",[a("span",[a("label",[e._v("Order Time:")]),e._v(e._s(t.details.orderTime))]),a("span",[a("label",[e._v("Estimated Delivery Time:")]),e._v(e._s(t.details.estimatedDeliveryTime))])]),a("p",[e._v("\n                "+e._s(t.details.consignee)+", "+e._s(t.details.phone)+", "+e._s(t.details.address)+"\n              ")]),a("p",[a("span",[a("label",[e._v("Dishes:")]),e._v(e._s(t.details.orderDishes))])])]):e._e()])]):e._e(),5===t.type?a("div",{staticClass:"item",on:{mouseenter:function(a){return e.toggleShow(t.id,n)},mouseleave:function(t){return e.mouseLeaves(n)}}},[a("div",{class:e.isActive?"titAlready":""},[a("div",{staticClass:"tit"},[a("span",[e._v("[Today's Data]")]),e._v("Work hard, but also live well."),a("span",{staticClass:"time"},[e._v(e._s(t.createTime))])]),e.shopShow&&e.showIndex===n?a("div",{staticClass:"orderInfo"},[a("p",[a("span",[a("label",[e._v("Turnover:")]),e._v(e._s(t.details.turnover))]),a("span",[a("label",[e._v("Valid Orders:")]),e._v(e._s(t.details.validOrderCount))]),a("span",[a("label",[e._v("Order Completion Rate:")]),e._v(e._s(t.details.orderCompletionRate))])]),a("p",[a("span",[a("label",[e._v("New Users Today:")]),e._v(e._s(t.details.newUsers))]),a("span",[a("label",[e._v("Cancelled Today:")]),e._v(e._s(t.details.cancelledOrders))]),a("span",[a("label",[e._v("Cancelled Amount Today:")]),e._v("￥"+e._s(t.details.cancelledAmount))])])]):e._e()])]):e._e()])})),0):a("Empty",{attrs:{"is-search":e.isSearch}}),e.counts>10?a("el-pagination",{staticClass:"pageList",attrs:{"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.counts},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])},r=[],s=a("51ee"),i=s["a"],o=(a("477d"),a("2877")),c=Object(o["a"])(i,n,r,!1,null,"46cd4ee1",null);t["default"]=c.exports},c26b:function(e,t,a){"use strict";var n=a("86cc").f,r=a("2aeb"),s=a("dcbc"),i=a("9b43"),o=a("f605"),c=a("4a59"),l=a("01f9"),u=a("d53b"),d=a("7a56"),p=a("9e1e"),h=a("67ab").fastKey,m=a("b39a"),f=p?"_s":"size",b=function(e,t){var a,n=h(t);if("F"!==n)return e._i[n];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,l){var u=e((function(e,n){o(e,u,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=n&&c(n,a,e[l],e)}));return s(u.prototype,{clear:function(){for(var e=m(this,t),a=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete a[n.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var a=m(this,t),n=b(a,e);if(n){var r=n.n,s=n.p;delete a._i[n.i],n.r=!0,s&&(s.n=r),r&&(r.p=s),a._f==n&&(a._f=r),a._l==n&&(a._l=s),a[f]--}return!!n},forEach:function(e){m(this,t);var a,n=i(e,arguments.length>1?arguments[1]:void 0,3);while(a=a?a.n:this._f){n(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function(e){return!!b(m(this,t),e)}}),p&&n(u.prototype,"size",{get:function(){return m(this,t)[f]}}),u},def:function(e,t,a){var n,r,s=b(e,t);return s?s.v=a:(e._l=s={i:r=h(t,!0),k:t,v:a,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[f]++,"F"!==r&&(e._i[r]=s)),e},getEntry:b,setStrong:function(e,t,a){l(e,t,(function(e,a){this._t=m(e,t),this._k=a,this._l=void 0}),(function(){var e=this,t=e._k,a=e._l;while(a&&a.r)a=a.p;return e._t&&(e._l=a=a?a.n:e._t._f)?u(0,"keys"==t?a.k:"values"==t?a.v:[a.k,a.v]):(e._t=void 0,u(1))}),a?"entries":"values",!a,!0),d(t)}}},c486:function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},c4d9:function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},c5f6:function(e,t,a){"use strict";var n=a("7726"),r=a("69a8"),s=a("2d95"),i=a("5dbc"),o=a("6a99"),c=a("79e5"),l=a("9093").f,u=a("11e9").f,d=a("86cc").f,p=a("aa77").trim,h="Number",m=n[h],f=m,b=m.prototype,_=s(a("2aeb")(b))==h,v="trim"in String.prototype,g=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():p(t,3);var a,n,r,s=t.charCodeAt(0);if(43===s||45===s){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var i,c=t.slice(2),l=0,u=c.length;l<u;l++)if(i=c.charCodeAt(l),i<48||i>r)return NaN;return parseInt(c,n)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof m&&(_?c((function(){b.valueOf.call(a)})):s(a)!=h)?i(new f(g(t)),a,m):g(t)};for(var y,O=a("9e1e")?l(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;O.length>k;k++)r(f,y=O[k])&&!r(m,y)&&d(m,y,u(f,y));m.prototype=b,b.constructor=m,a("2aba")(n,h,m)}},c8ff:function(e,t,a){"use strict";var n=a("4b52"),r=a.n(n);r.a},d14b:function(e,t,a){"use strict";var n=a("2150"),r=a.n(n);r.a},d44d:function(e,t,a){"use strict";var n=a("c4d9"),r=a.n(n);r.a},d4e0:function(e,t,a){},d4eb:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAYAAADBNhlmAAABcElEQVRYR+3YwUrDQBAG4JlS8e7BU1QqyaUN4iP4LCoo3n0J79aD4tW7D1DyBkUhCBqIggcfwYN0JGraWjbdTXbZGUpyTXbz5d/sZrIIwg8U7oMWaDtCbYKiEgzDvSAINj6SJPmyhZXtnQwxEWEvHAwB4AQBnne2NmNXSGvgDy4a3ADB4d9TUxe721n2+O4iRSugAgeAePWapWcucEUfjYFqHNzmL+kxIhIr0BeuUYI+cbWBvnG1gBw4YyAXzgjIidMCuXFLgRJwlcBfXH8EhAdzC+64g517VwvwrJ/JJ62t3+VP4zdV38ovSS/qX9AEzt1j1D0i4kOepfurAxQ/xEXUBXI3iq+J6GgaPbovBnSv0dJqRgJSW25xI7VA7uE2ApbIhdK+KHedF6iL76QxkAtZC8iBrA30jWwE9IlsDKxGCvntLGeb6B/3/8j4EohOxW19zK9bYjePdB98m/NWk8TmxqZtW6BpUlXXtQnaJvgN7kUqOhRI5j0AAAAASUVORK5CYII="},d666:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"HeadLable"},[e.goback?n("span",{staticClass:"goBack",on:{click:function(t){return e.goBack()}}},[n("img",{attrs:{src:a("d4eb"),alt:""}}),e._v(" 返回")]):e._e(),e.butList?e._e():n("span",[e._v(e._s(e.title))]),e.butList?n("div",[e._t("default")],2):e._e()])},r=[],s=a("d225"),i=a("b0b4"),o=a("308d"),c=a("6bb5"),l=a("4e2b"),u=a("9ab4"),d=a("60a3"),p=function(e){function t(){return Object(s["a"])(this,t),Object(o["a"])(this,Object(c["a"])(t).apply(this,arguments))}return Object(l["a"])(t,e),Object(i["a"])(t,[{key:"toggleClick",value:function(){this.$emit("toggleClick")}},{key:"goBack",value:function(){this.$router.go(-1)}}]),t}(d["c"]);Object(u["a"])([Object(d["b"])({default:!1})],p.prototype,"goback",void 0),Object(u["a"])([Object(d["b"])({default:!1})],p.prototype,"butList",void 0),Object(u["a"])([Object(d["b"])({default:"Group Management"})],p.prototype,"title",void 0),p=Object(u["a"])([Object(d["a"])({name:"Hamburger"})],p);var h=p,m=h,f=(a("4623"),a("2877")),b=Object(f["a"])(m,n,r,!1,null,"52c875b8",null);t["a"]=b.exports},d6de:function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},d6f9:function(e,t,a){},d9cf:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return c})),a.d(t,"e",(function(){return l}));a("f576"),a("a481"),a("3b2b"),a("6b54");function n(e,t){var a,n=new Date(t),r={"Y+":n.getFullYear().toString(),"m+":(n.getMonth()+1).toString(),"d+":n.getDate().toString()};for(var s in r)a=new RegExp("("+s+")").exec(e),a&&(e=e.replace(a[1],1==a[1].length?r[s]:r[s].padStart(a[1].length,"0")));return e}var r=function(){var e=new Date((new Date).toLocaleDateString()).getTime(),t=e-864e5,a=t+864e5-1,r=n("YYYY-mm-dd",t),s=n("YYYY-mm-dd",a);return[r,s]},s=function(){var e=new Date((new Date).toLocaleDateString()).getTime(),t=e-864e5,a=n("YYYY.mm.dd",t),r=n("YYYY.mm.dd",e);return[a,r]},i=function(){var e=new Date((new Date).toLocaleDateString()).getTime(),t=e-6048e5,a=e-1,r=n("YYYY-mm-dd",t),s=n("YYYY-mm-dd",a);return[r,s]},o=function(){var e=new Date((new Date).toLocaleDateString()).getTime(),t=e-2592e6,a=e-1,r=n("YYYY-mm-dd",t),s=n("YYYY-mm-dd",a);return[r,s]},c=function(){var e=new Date((new Date).toLocaleDateString()).getTime(),t=(new Date).getDay(),a=e-24*(t-1)*60*60*1e3,r=e+24*(7-t)*60*60*1e3,s=n("YYYY-mm-dd",a),i=n("YYYY-mm-dd",r);return[s,i]},l=function(){var e=(new Date).getFullYear(),t=(new Date).getMonth(),a=new Date(e,t,1).getTime(),r=new Date(e,t+1,0).getTime()+864e5-1,s=n("YYYY-mm-dd",a),i=n("YYYY-mm-dd",r);return[s,i]}},dc90:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAFJElEQVRYR+2WW2wUZRTH//+Zli0SFLSIEaoPpiG2dGaF7c52ZyUKD0YTbhq8AA/GCGrwAgTRxGsEoga1mKAmqDE+AIlECCQgARVjutvZbWV3tqUBihovaCBgkISWlt3vmOmF1GUvrcQEE+f1XL7f/M/5zneIK+TjFcKB/y6I4xyqUcjMVUAAxI0ArqfgDIjfAOnQtLJdoUBtM0k1ErWHrUhzwp2tFNYJpK7kAcTvJNf6NOPDQIAXSvoDpUvjtLVNzHZlt4rgTi8hwZMgdmnU9lOpn3WdJzOUcVCYJILbRWSeANX9vuikjgfC9f5kKZiiisRaUrcpxZ0QqfIACL42qqxuU6m/bGpx50DJ6xDUkOgitIfDlrGtGExBkGhr2y3IqIRAriX5rU+vuC8QmHKq1J8N2ltbpbwn424UYKnXL6JxdqTe2FMoPi9I0+HDY3mmJy6QW0nu9OnGglIqFDogGndfEZFXSZylrlnhgHE4n29ekGg89YYIngOYHjsaYdM0zw1XiXx+0bi7RUQeInHAtvwzhwXiOO7kLOQoyApNR6AhYB68HAgv1nE6r87w3PcQVOq6dk9DvfFFbs5LFIk6qTUCvEhyq22ZC3MDRESLt7dPCNXVnci1JZM/juuuLOsJV1V159pijrtcQRpJ7LMt/13DAHHT3qwgOcu2zK9zA5oSbiMFT4N4yg6a7w/ao4n0DFGym5S0bfnt3Lh0Oj3+bJc6SUJ0GVMZClWfHerzN0ViqSOT1PnuX0GcsYPmBJKZ3ITRFvdBycrWvjmhcZkH0wchsgciYzSiMWz5Vxbola9EZKZG/d6wVbejIEhzS7udzWaaAEQjIX+kUG/EnPQyBbXRs3sHK3CpB0Hgk7BlPlpovMfiqXeUYAWorYxYRmNhReLpBUrUZyS32ZZ5f7EmHQozMEWLQng+McddpSDrofGtSNB8thjIQiVqM8gtEctcVAxkoBz7IOLrU0bXngzXG+8VhU+4zyglGwi+a4fM5UVK03ZHNps9AOCbSMjf97bkrfWQniDYLJCGoT1TMG5gPpHa87ZlvFkQxEl2VGd6eo8SOG6H/JPzJXQcN5QhvhzaE83xticGewbkkohlfpQvtime2g7BfGja4kjQ2FwQxDNE4+4vIjJZ0zEt36sZddxNAlmS25gXe4ZwI5bfnwvS2dnpO3G66xSJMfRVVIX9U44XBWlKpDZCYRnBt+2QuSo3obcWSLcKhuqN3bm3w2lNRZAp/yMUqu3IjYtdvAhosS1/MNd+yWT1nn5R/A4i51kxujqXvFgzFrKJSFkskW4XkSkatMfCIWNTSZCB8gw8UtwZDhrzSco/ARiMicbdF0RkLckj4aAxNd+gzP/6Huy4WXovJAEZD2hrIiHj5X8K4i1JVOifoqLdbYfq9uXLVXAxiiXcWUrJXgBl0LjBrjdWkcyOBCjmpB4R8gMRGQVydcQy1xeKL7oqNiXSiyDycf/QYhM1faUdnNpSCqa19dBNPZkL6wRY7Plq5PqwZa4uFldyi4/G0w0C2Q6RG7xeEcFejfh8lF62f/r0muOeSiLCZPJYZXe2awayMk/IBQPw53Xi8QbL/LQUfEkQL4G32GTZtRqQFSK4ajBp3y4KOU3wmj75B76Ba70Z5eUv2dNqfioF4dmHBTKYqLX1SGVvpnuOgHMBCQgwEYDep1Q/UAcou0ZR21Ffb/wwHICL8CNxzvX1trVk8th1Pl/vn7W1tb2Xk2tEilzOQaVi/wcZ1ogvJeO/Yf8LOUhWQdfhhAAAAAAASUVORK5CYII="},de1a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{key:e.vueRest,staticClass:"addBrand-container"},[a("div",{key:e.restKey,staticClass:"container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,inline:!0,"label-width":"180px"}},[a("div",[a("el-form-item",{attrs:{label:"Dish Name:",prop:"name"}},[a("el-input",{attrs:{placeholder:"Please enter dish name",maxlength:"20"},model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"Dish Category:",prop:"categoryId"}},[a("el-select",{attrs:{placeholder:"Please select dish category"},model:{value:e.ruleForm.categoryId,callback:function(t){e.$set(e.ruleForm,"categoryId",t)},expression:"ruleForm.categoryId"}},e._l(e.dishList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("div",[a("el-form-item",{attrs:{label:"Dish Price:",prop:"price"}},[a("el-input",{attrs:{placeholder:"Please set dish price"},model:{value:e.ruleForm.price,callback:function(t){e.$set(e.ruleForm,"price",t)},expression:"ruleForm.price"}})],1)],1),a("el-form-item",{attrs:{label:"Flavor Configuration:"}},[a("el-form-item",[a("div",{staticClass:"flavorBox"},[0==e.dishFlavors.length?a("span",{staticClass:"addBut",on:{click:e.addFlavore}},[e._v("\n              + Add Flavor")]):e._e(),0!=e.dishFlavors.length?a("div",{staticClass:"flavor"},[a("div",{staticClass:"title"},[a("span",[e._v("Flavor Name (max 3 characters)")])]),a("div",{staticClass:"cont"},e._l(e.dishFlavors,(function(t,n){return a("div",{key:n,staticClass:"items"},[a("div",{staticClass:"itTit"},[a("SelectInput",{attrs:{"dish-flavors-data":e.leftDishFlavors,index:n,value:t.name},on:{select:e.selectHandle}})],1),a("div",{staticClass:"labItems",staticStyle:{display:"flex"}},[e._l(t.value,(function(t,r){return a("span",{key:r},[e._v(e._s(t)+"\n                      "),a("i",{on:{click:function(t){return e.delFlavorLabel(n,r)}}},[e._v("X")])])})),a("div",{staticClass:"inputBox",style:e.inputStyle})],2),a("span",{staticClass:"delFlavor delBut non",on:{click:function(a){return e.delFlavor(t.name)}}},[e._v("Delete")])])})),0),this.leftDishFlavors.length&&this.dishFlavors.length<this.dishFlavorsData.length?a("div",{staticClass:"addBut",on:{click:e.addFlavore}},[e._v("\n                Add Flavor\n              ")]):e._e()]):e._e()])])],1),a("div",[a("el-form-item",{attrs:{label:"Dish Image:",prop:"image"}},[a("image-upload",{attrs:{"prop-image-url":e.imageUrl},on:{imageChange:e.imageChange}},[e._v("\n            Image size should not exceed 2M"),a("br"),e._v("Only PNG, JPEG, JPG images can be uploaded"),a("br"),e._v("Recommended image size: 200x200 or 300x300\n          ")])],1)],1),a("div",{staticClass:"address"},[a("el-form-item",{attrs:{label:"Dish Description:",prop:"region"}},[a("el-input",{attrs:{type:"textarea",rows:3,maxlength:"200",placeholder:"Dish description, max 200 characters"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1)],1),a("div",{staticClass:"subBox address"},[a("el-button",{on:{click:function(){return e.$router.back()}}},[e._v("\n          Cancel\n        ")]),a("el-button",{class:{continue:"add"===e.actionType},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("\n          Save\n        ")]),"add"==e.actionType?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm","goAnd")}}},[e._v("\n          Save and Continue Adding\n        ")]):e._e()],1)],1)],1)])},r=[],s=(a("8e6e"),a("ac6a"),a("456d"),a("c5f6"),a("bd86")),i=(a("96cf"),a("3b8d")),o=a("75fc"),c=(a("7f7f"),a("20d6"),a("d225")),l=a("b0b4"),u=a("308d"),d=a("6bb5"),p=a("4e2b"),h=a("9ab4"),m=a("60a3"),f=a("d666"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"selectInput"},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"text",placeholder:"Please select flavor",clearable:"",readonly:""},on:{focus:function(t){return e.selectFlavor(!0)},blur:function(t){return e.outSelect(!1)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e.mak&&e.dishFlavorsData.length?a("div",{staticClass:"flavorSelect"},[e._l(e.dishFlavorsData,(function(t,n){return a("span",{key:n,staticClass:"items",on:{click:function(a){return e.checkOption(t,n)}}},[e._v(e._s(t.name))])})),e.dishFlavorsData==[]?a("span",{staticClass:"none"},[e._v("No data")]):e._e()],2):e._e()],1)},_=[],v=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.keyValue=NaN,e.mak=!1,e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"selectFlavor",value:function(e){this.mak=e}},{key:"outSelect",value:function(e){var t=this;setTimeout((function(){t.mak=e}),200)}},{key:"inputHandle",value:function(e){this.selectFlavor(!1)}},{key:"checkOption",value:function(e,t){this.$emit("select",e.name,this.index,t),this.keyValue=e.name}}]),t}(m["c"]);Object(h["a"])([Object(m["b"])({default:[]})],v.prototype,"selectFlavorsData",void 0),Object(h["a"])([Object(m["b"])({default:[]})],v.prototype,"dishFlavorsData",void 0),Object(h["a"])([Object(m["b"])({default:""})],v.prototype,"value",void 0),Object(h["a"])([Object(m["b"])({default:0})],v.prototype,"index",void 0),v=Object(h["a"])([Object(m["a"])({name:"selectInput"})],v);var g=v,y=g,O=(a("1a58"),a("2877")),k=Object(O["a"])(y,b,_,!1,null,"3bb8d414",null),C=k.exports,j=a("5aa9"),D=a("38b8"),S=a("5581");function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(u["a"])(this,Object(d["a"])(t).apply(this,arguments)),e.restKey=0,e.textarea="",e.value="",e.imageUrl="",e.actionType="",e.dishList=[],e.dishFlavorsData=[],e.dishFlavors=[],e.leftDishFlavors=[],e.vueRest="1",e.index=0,e.inputStyle={flex:1},e.headers={token:Object(S["b"])()},e.ruleForm={name:"",id:"",price:"",code:"",image:"",description:"",dishFlavors:[],status:!0,categoryId:""},e}return Object(p["a"])(t,e),Object(l["a"])(t,[{key:"created",value:function(){this.getDishList(),this.getFlavorListHand(),this.actionType=this.$route.query.id?"edit":"add",this.$route.query.id&&this.init()}},{key:"mounted",value:function(){}},{key:"changeDishFlavors",value:function(){this.getLeftDishFlavors()}},{key:"getLeftDishFlavors",value:function(){var e=this,t=[];this.dishFlavorsData.map((function(a){-1===e.dishFlavors.findIndex((function(e){return a.name===e.name}))&&t.push(a)})),this.leftDishFlavors=t}},{key:"selectHandle",value:function(e,t,a){var n=Object(o["a"])(this.dishFlavors),r=this.dishFlavorsData.findIndex((function(t){return t.name===e}));n[t]=JSON.parse(JSON.stringify(this.dishFlavorsData[r])),this.dishFlavors=n}},{key:"init",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Object(D["h"])(this.$route.query.id).then((function(e){if(e&&e.data&&1===e.data.code){t.ruleForm=x({},e.data.data),t.ruleForm.price=String(e.data.data.price),t.ruleForm.status="1"==e.data.data.status,t.dishFlavors=e.data.data.flavors&&e.data.data.flavors.map((function(e){return x({},e,{value:JSON.parse(e.value)})}));t.getLeftDishFlavors(),t.imageUrl=e.data.data.image}else t.$message.error(e.data.msg)}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addFlavore",value:function(){this.dishFlavors.push({name:"",value:[]})}},{key:"delFlavor",value:function(e){var t=this.dishFlavors.findIndex((function(t){return t.name===e}));this.dishFlavors.splice(t,1)}},{key:"delFlavorLabel",value:function(e,t){this.dishFlavors[e].value.splice(t,1)}},{key:"flavorPosition",value:function(e){this.index=e}},{key:"keyDownHandle",value:function(e){event&&(event.cancelBubble=!0,event.preventDefault(),event.stopPropagation()),""!=e.target.innerText.trim()&&(this.dishFlavors[this.index].flavorData.push(e.target.innerText),e.target.innerText="")}},{key:"getDishList",value:function(){var e=this;Object(D["f"])({type:1}).then((function(t){1===t.data.code?e.dishList=t&&t.data&&t.data.data:e.$message.error(t.data.msg)}))}},{key:"getFlavorListHand",value:function(){this.dishFlavorsData=[{name:"Sweetness",value:["No Sugar","Less Sugar","Half Sugar","More Sugar","Full Sugar"]},{name:"Temperature",value:["Hot","Room Temp","No Ice","Less Ice","More Ice"]},{name:"Dietary Restrictions",value:["No Onion","No Garlic","No Coriander","No Spicy"]},{name:"Spiciness",value:["Not Spicy","Mild","Medium","Hot"]}]}},{key:"submitForm",value:function(e,t){var a=this;this.$refs[e].validate((function(e){if(!e)return!1;if(!a.ruleForm.image)return a.$message.error("Dish image cannot be empty");var n=x({},a.ruleForm);n.status="add"===a.actionType?0:a.ruleForm.status?1:0,n.categoryId=a.ruleForm.categoryId,n.flavors=a.dishFlavors.map((function(e){return x({},e,{value:JSON.stringify(e.value)})})),delete n.dishFlavors,"add"==a.actionType?(delete n.id,Object(D["a"])(n).then((function(e){1===e.data.code?(a.$message.success("Dish added successfully!"),t?(a.dishFlavors=[],a.imageUrl="",a.ruleForm={name:"",id:"",price:"",code:"",image:"",description:"",dishFlavors:[],status:!0,categoryId:""},a.restKey++):a.$router.push({path:"/dish"})):a.$message.error(e.data.desc||e.data.msg)})).catch((function(e){a.$message.error("Request failed: "+e.message)}))):(delete n.createTime,delete n.updateTime,Object(D["e"])(n).then((function(e){e&&e.data&&1===e.data.code?(a.$router.push({path:"/dish"}),a.$message.success("Dish modified successfully!")):a.$message.error(e.data.desc||e.data.msg)})).catch((function(e){a.$message.error("Request failed: "+e.message)})))}))}},{key:"imageChange",value:function(e){this.ruleForm.image=e}},{key:"rules",get:function(){return{name:[{required:!0,validator:function(e,t,a){if(t){var n=/^([A-Za-z0-9\u4e00-\u9fa5]){2,20}$/;n.test(t)?a():a(new Error("Invalid dish name, please enter 2-20 characters"))}else a(new Error("Please enter dish name"))},trigger:"blur"}],categoryId:[{required:!0,message:"Please select dish category",trigger:"change"}],image:{required:!0,message:"Dish image cannot be empty"},price:[{required:!0,validator:function(e,t,a){var n=/^([1-9]\d{0,5}|0)(\.\d{1,2})?$/;!n.test(t)||Number(t)<=0?a(new Error("Incorrect price format, please enter an amount greater than zero with up to two decimal places")):a()},trigger:"blur"}],code:[{required:!0,message:"Please enter product code",trigger:"blur"}]}}}]),t}(m["c"]);Object(h["a"])([Object(m["d"])("dishFlavors")],E.prototype,"changeDishFlavors",null),E=Object(h["a"])([Object(m["a"])({name:"addShop",components:{HeadLable:f["a"],SelectInput:C,ImageUpload:j["a"]}})],E);var T=E,L=T,P=(a("3502"),a("6c8b"),Object(O["a"])(L,n,r,!1,null,"258e32fe",null));t["default"]=P.exports},e0b8:function(e,t,a){"use strict";var n=a("7726"),r=a("5ca1"),s=a("2aba"),i=a("dcbc"),o=a("67ab"),c=a("4a59"),l=a("f605"),u=a("d3f4"),d=a("79e5"),p=a("5cc5"),h=a("7f20"),m=a("5dbc");e.exports=function(e,t,a,f,b,_){var v=n[e],g=v,y=b?"set":"add",O=g&&g.prototype,k={},C=function(e){var t=O[e];s(O,e,"delete"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,a){return t.call(this,0===e?0:e,a),this})};if("function"==typeof g&&(_||O.forEach&&!d((function(){(new g).entries().next()})))){var j=new g,D=j[y](_?{}:-0,1)!=j,S=d((function(){j.has(1)})),w=p((function(e){new g(e)})),x=!_&&d((function(){var e=new g,t=5;while(t--)e[y](t,t);return!e.has(-0)}));w||(g=t((function(t,a){l(t,g,e);var n=m(new v,t,g);return void 0!=a&&c(a,b,n[y],n),n})),g.prototype=O,O.constructor=g),(S||x)&&(C("delete"),C("has"),b&&C("get")),(x||D)&&C(y),_&&O.clear&&delete O.clear}else g=f.getConstructor(t,e,b,y),i(g.prototype,a),o.NEED=!0;return h(g,e),k[e]=g,r(r.G+r.W+r.F*(g!=v),k),_||f.setStrong(g,e,b),g}},e0ea:function(e,t,a){"use strict";var n=a("149e"),r=a.n(n);r.a},e24e:function(e,t,a){},e967:function(e,t,a){e.exports={menuBg:"#343744",menuText:"#bfcbd9",menuActiveText:"#ffc200"}},f145:function(e,t,a){},f576:function(e,t,a){"use strict";var n=a("5ca1"),r=a("2e08"),s=a("a25f"),i=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(s);n(n.P+n.F*i,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},f655:function(e,t,a){"use strict";var n=a("847b"),r=a.n(n);r.a},f6b6:function(e,t,a){},f791:function(e,t,a){},f862:function(e,t,a){},fab1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"empty-box"},[n("div",{staticClass:"img-box"},[e.isSearch?n("img",{attrs:{src:a("2235")}}):n("img",{attrs:{src:a("38b8f"),alt:""}}),n("p",[e._v(e._s(e.isSearch?"Sorry, no content found~":"Here is empty~"))])])])},r=[],s=a("d225"),i=a("308d"),o=a("6bb5"),c=a("4e2b"),l=a("9ab4"),u=a("60a3"),d=function(e){function t(){return Object(s["a"])(this,t),Object(i["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(u["c"]);Object(l["a"])([Object(u["b"])({default:!1})],d.prototype,"isSearch",void 0),d=Object(l["a"])([Object(u["a"])({name:"Empty"})],d);var p=d,h=p,m=(a("2acb"),a("2877")),f=Object(m["a"])(h,n,r,!1,null,"9086aa88",null);t["a"]=f.exports},fb34:function(e,t,a){"use strict";var n=a("d6de"),r=a.n(n);r.a},fdd5:function(e,t,a){},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=shopTable.a04ef9fc.js.map